(()=>{"use strict";var e={290:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Piece=void 0;var i,s,r,n=o(788);!function(e){e[e.black=0]="black",e[e.red=1]="red"}(i||(i={})),function(e){e[e.black=0]="black",e[e.red=1]="red"}(s||(s={})),function(e){e[e.General=0]="General",e[e.Advisor=1]="Advisor",e[e.Elephant=2]="Elephant",e[e.Chariot=3]="Chariot",e[e.Horse=4]="Horse",e[e.Cannon=5]="Cannon",e[e.Soldier=6]="Soldier"}(r||(r={}));var a=function(){function e(e,t){this.point=e,this.selected=!1,this.active=!1,this.ratio=100,this.side_length=.01*this.ratio*n.SIDE_LENGTH,this.board=t,this.elem=document.createElement("img")}return e.prototype.render=function(){this.elem.className="pieces",$(window).resize(e.adjustResize)},e.adjustResize=function(){screen.width==window.innerWidth?(console.log("at exact 100%"),n.getChessBoardSize(),$(".className_grid_div").css("width",n.SIDE_LENGTH*(n.getZoomedRatio()/100)),$(".className_grid_div").css("height",n.SIDE_LENGTH*(n.getZoomedRatio()/100)),$(".pieces").css("width",n.SIDE_LENGTH*(n.getZoomedRatio()/100)),$(".pieces").css("height",n.SIDE_LENGTH*(n.getZoomedRatio()/100)),$("#board").css("width",$("#board").css("height")),$("#id_chessboard").css("width",$("#board").css("width"))):screen.width>window.innerWidth?(console.log("you have zoomed in the page i.e more than 100%"),n.getZoomedRatio(),n.getChessBoardSize(),$(".className_grid_div").css("width",n.SIDE_LENGTH*(n.getZoomedRatio()/100)),$(".className_grid_div").css("height",n.SIDE_LENGTH*(n.getZoomedRatio()/100)),$(".pieces").css("width",n.SIDE_LENGTH*(n.getZoomedRatio()/100)),$(".pieces").css("height",n.SIDE_LENGTH*(n.getZoomedRatio()/100)),$("#board").css("width",$("#board").css("height")),$("#id_chessboard").css("width",$("#board").css("width"))):(console.log("you have zoomed out i.e less than 100%"),n.getZoomedRatio(),n.getChessBoardSize(),$(".className_grid_div").css("width"),$(".className_grid_div").css("width",n.SIDE_LENGTH*(n.getZoomedRatio()/100)),$(".className_grid_div").css("height",n.SIDE_LENGTH*(n.getZoomedRatio()/100)),$(".pieces").css("width",n.SIDE_LENGTH*(n.getZoomedRatio()/100)),$(".pieces").css("height",n.SIDE_LENGTH*(n.getZoomedRatio()/100)),$("#board").css("width",$("#board").css("height")),$("#id_chessboard").css("width",$("#board").css("width")))},e}();t.Piece=a},862:(e,t,o)=>{var i=o(598),s=o(788),r=o(299);(new(function(){function e(){this.board=new i.Board}return e.prototype.render=function(){this.board.render(),new r.RedGeneral(this.board,new s.Point(9,4)).render()},e}())).render()},299:function(e,t,o){var i,s=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.RedGeneral=void 0;var r=function(e){function t(t,o){var i=e.call(this,o,t)||this;return i.elem.src="./img/pieces/red-shuai.png",i}return s(t,e),t.prototype.render=function(){$(this.board.div_2d_array[this.point.x_coor-1][this.point.y_coor-1]).append(this.elem)},t}(function(e){function t(t,o){return e.call(this,t,o)||this}return s(t,e),t}(o(290).Piece));t.RedGeneral=r},598:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Board=void 0;var i=o(788),s=function(){function e(){this.ratio=100,this.side_length=.01*this.ratio*i.SIDE_LENGTH,this.intersections=new Array,this.div_2d_array=new Array;for(var e=0;e<9;e++){this.intersections[e]=[],this.div_2d_array[e]=[];for(var t=0;t<10;t++){this.intersections[e][t]=new i.Point(e+1,t+1);var o=document.createElement("div");o.id="grid_div_"+(e+1)+"_"+(t+1),o.className="className_grid_div",$(o).css("grid-column",e+1),$(o).css("grid-row",t+1),this.div_2d_array[e][t]=o,$("#board").append(this.div_2d_array[e][t])}}}return e.prototype.detectZoom=function(){var e=0;void 0!==window.devicePixelRatio?e=window.devicePixelRatio:void 0!==window.outerWidth&&void 0!==window.innerWidth&&(e=window.outerWidth/window.innerWidth),e&&(e=Math.round(100*e)),this.ratio=e,console.log("ratio"),console.log(e),console.log(this.ratio)},e.prototype.render=function(){this.image=document.createElement("img"),this.image.src="./img/antontw_chinese_chess_plate.svg",this.image.id="id_chessboard";var e=$("#board");$(e).css("height","fit-content"),$("#id_chessboard").css("position","fixed"),$("#id_chessboard").css("max-height","100vh"),$("#board").css("left","0px"),$("#id_chessboard").css("margin","0"),$("#id_chessboard").css("padding","0vw"),$("#board").css("width",$("#board").css("height")),$("#board").css("margin-left","auto"),$("#board").css("margin-right","auto"),$("#board").css("padding",0),$(".className_grid_div").css("background-color","rgba(255,0,0,0.3)"),$(".pieces").css("width",i.SIDE_LENGTH*(i.getZoomedRatio()/100)),$(".pieces").css("height",i.SIDE_LENGTH*(i.getZoomedRatio()/100)),$(".className_grid_div").css("width",i.SIDE_LENGTH),$(".className_grid_div").css("height",i.SIDE_LENGTH),$(".className_grid_div").css("z-index",10),$(".className_grid_div").css("margin",0),$("#board").css("max-width","100vh")},e}();t.Board=s},788:function(e,t,o){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SIDE_LENGTH_vw=t.SIDE_LENGTH=t.Point=t.getChessBoardSize=t.getZoomedRatio=void 0;var s=i(o(102));function r(){var e=0;return void 0!==window.devicePixelRatio?e=window.devicePixelRatio:void 0!==window.outerWidth&&void 0!==window.innerWidth&&(e=window.outerWidth/window.innerWidth),e&&(e=Math.round(100*e)),e}t.getZoomedRatio=r,t.getChessBoardSize=function(){s.default.trace("chessboard size:");var e=$("#id_chessboard");s.default.trace("chessboad width"),s.default.trace(e.css("width")),s.default.trace("chessboad height"),s.default.trace(e.css("height"))};t.Point=function(e,t){this.x_coor=e,this.y_coor=t},t.SIDE_LENGTH=75;var n=70/(.01*r());t.SIDE_LENGTH_vw=n},102:function(e,t){var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var i=Array(e),s=0;for(t=0;t<o;t++)for(var r=arguments[t],n=0,a=r.length;n<a;n++,s++)i[s]=r[n];return i};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,o(["<T> "+(new Date).toLocaleString()+":"],e))},e.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info.apply(console,o(["<I> "+(new Date).toLocaleString()+":"],e))},e.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,o(["<W> "+(new Date).toLocaleString()+":"],e))},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,o(["<E> "+(new Date).toLocaleString()+":"],e))},e.test=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,o(["<X> "+(new Date).toLocaleString()+":"],e))},e}();t.default=i}},t={};!function o(i){if(t[i])return t[i].exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,o),s.exports}(862)})();