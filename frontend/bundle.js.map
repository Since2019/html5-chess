{"version":3,"sources":["webpack://html5-chess/./frontend/src/Boards.ts","webpack://html5-chess/./frontend/src/Chariot.ts","webpack://html5-chess/./frontend/src/ChessPiece.ts","webpack://html5-chess/./frontend/src/Game.ts","webpack://html5-chess/./frontend/src/General.ts","webpack://html5-chess/./frontend/src/frontend-utils.ts","webpack://html5-chess/./src/Util.ts","webpack://html5-chess/webpack/bootstrap","webpack://html5-chess/webpack/startup"],"names":["Object","defineProperty","exports","value","Board","frontend_utils_1","this","ratio","side_length","SIDE_LENGTH","intersections","Array","i","j","Point","prototype","movePieceFromSrcToDest","piece","point_source","point_dest","setPiece","moveToPoint","getPointFromCoordinates","x_coor","y_coor","validateXCoordinate","validateYCoordinate","x","y","getRowFromYCoordinate","row","push","getColFromXCoordinate","col","detectZoom","undefined","window","devicePixelRatio","outerWidth","innerWidth","Math","round","render","board","$","css","on","fitSize","document","extendStatics","__extends","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","call","__","constructor","create","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","f","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","pop","length","__importDefault","mod","__esModule","BlackChariot","RedChariot","Util_1","ChessPiece_1","Chariot","_super","point","color","PieceRole","General","canMove","dest","isValidChariotPosition","abs","checkSameColorPiece","Piece","_this","PieceColor","RED","elem","src","movablePoints","movable_grids","default","trace","moveable_points","_a","when","checkColumn","col_movable","concat","checkRow","row_movable","Y_coor","piece_col","start_flag","end_flag","index","movable_points_in_this_column","parseInt","X_coor","piece_row","movable_points_in_this_row","BLACK","console","log","isFriendly","PlayerColor","role","selected","active","createElement","piece_role","getElement","getRole","getColor","getPiece","isEnemy","append","addClass","toString","adjustResize","screen","width","getChessBoardSize","getZoomedRatio","Boards_1","Chariot_1","General_1","Game","currentPlayer","red","getCurrentPlayer","alternatePlayer","black","RedGeneral","BlackGeneral","red_ju_one","red_ju_two","red_ju_test","red_ju_test2","black_ju_one","black_ju_two","isValidGeneralPosition","checkColumns","front","checkRows","SIDE_LENGTH_vw","chessboard","updateElement","hasPiece","newCol","newRow","grid_div","oldCol","oldRow","id","remove","className","__spreadArrays","s","il","arguments","r","k","a","jl","Log","msg","_i","Date","toLocaleString","info","warn","error","test","__webpack_module_cache__","__webpack_require__","moduleId","module","__webpack_modules__"],"mappings":"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","file":"bundle.js","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Board = void 0;\r\nvar frontend_utils_1 = require(\"./frontend-utils\");\r\nvar Board = /** @class */ (function () {\r\n    function Board() {\r\n        this.ratio = 100; //default ratio 100%\r\n        this.side_length = this.ratio * 0.01 * frontend_utils_1.SIDE_LENGTH;\r\n        //A.K.A points.\r\n        this.intersections = new Array();\r\n        for (var i = 0; i < 9; i++) {\r\n            this.intersections[i] = [];\r\n            for (var j = 0; j < 10; j++) {\r\n                // 1 2 3 4 5 6 7 8 9\r\n                // 2\r\n                // 3\r\n                // 4\r\n                // 5\r\n                // 6\r\n                // 7\r\n                // 8\r\n                // 9\r\n                // 10\r\n                this.intersections[i][j] = (new frontend_utils_1.Point((i + 1), (j + 1)));\r\n            }\r\n        }\r\n    }\r\n    //invokes functions in Piece and Point simutaniously\r\n    Board.prototype.movePieceFromSrcToDest = function (piece, point_source, point_dest) {\r\n        point_source.setPiece(null); //the piece is moving out to another grid, so it's set to null.\r\n        piece.moveToPoint(point_dest); // the piece now knows which new place it's in\r\n        point_dest.setPiece(piece); // the point the piece moves in knows which piece it's receiving.\r\n    };\r\n    //get a specific point from coordinates\r\n    Board.prototype.getPointFromCoordinates = function (x_coor, y_coor) {\r\n        if (!this.validateXCoordinate(x_coor) || !this.validateYCoordinate(y_coor))\r\n            return null;\r\n        return this.intersections[x_coor - 1][y_coor - 1];\r\n    };\r\n    // Check for valid x coordinate\r\n    Board.prototype.validateXCoordinate = function (x) {\r\n        return x >= 1 && x <= 9;\r\n    };\r\n    // Check for valid y coordinate\r\n    Board.prototype.validateYCoordinate = function (y) {\r\n        return y >= 1 && y <= 10;\r\n    };\r\n    //get a row from y_coor(nth row)\r\n    Board.prototype.getRowFromYCoordinate = function (y_coor) {\r\n        var row = [];\r\n        for (var i = 0; i < 9; i++) {\r\n            row.push(this.intersections[i][y_coor - 1]);\r\n        }\r\n        return row;\r\n    };\r\n    //get a column from x_coor(nth col)\r\n    Board.prototype.getColFromXCoordinate = function (x_coor) {\r\n        var col = [];\r\n        for (var j = 0; j < 10; j++) {\r\n            col.push(this.intersections[x_coor - 1][j]);\r\n        }\r\n        return col;\r\n    };\r\n    Board.prototype.detectZoom = function () {\r\n        var ratio = 0;\r\n        if (window.devicePixelRatio !== undefined) {\r\n            ratio = window.devicePixelRatio;\r\n        }\r\n        // ???? not working, why?\r\n        // else if (~ua.indexOf('msie')) {\r\n        //     if (screen.deviceXDPI && screen.logicalXDPI) {\r\n        //         ratio = screen.deviceXDPI / screen.logicalXDPI;\r\n        //     }\r\n        // }\r\n        else if (window.outerWidth !== undefined && window.innerWidth !== undefined) {\r\n            ratio = window.outerWidth / window.innerWidth;\r\n        }\r\n        if (ratio) {\r\n            ratio = Math.round(ratio * 100);\r\n        }\r\n        this.ratio = ratio;\r\n    };\r\n    Board.prototype.render = function () {\r\n        var board = $('#board');\r\n        // $(board).css('height', 'fit-content');\r\n        $(\"#id_chessboard\").css(\"position\", \"fixed\");\r\n        $(\"#id_chessboard\").css(\"max-height\", '100vh');\r\n        // $(\"#board\").css(\"left\", \"0px\");\r\n        $(\"#id_chessboard\").css(\"margin\", \"0\");\r\n        $(\"#id_chessboard\").css(\"padding\", \"0vw\");\r\n        board.css('margin-left', 'auto');\r\n        board.css('margin-right', 'auto');\r\n        board.css('padding', 0);\r\n        //for testing purposes, added some color to the background\r\n        $('.className_grid_div').css('background-color', 'rgba(255,0,0,0.3)');\r\n        //fits the size when resizing\r\n        $(window).on('resize', function () {\r\n            frontend_utils_1.fitSize();\r\n        });\r\n        //fixed the size issue upon entry\r\n        $(document).on('ready', function () {\r\n            frontend_utils_1.fitSize();\r\n        });\r\n        $(\"#board\").css(\"max-width\", \"100vh\");\r\n    };\r\n    return Board;\r\n}());\r\nexports.Board = Board;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BlackChariot = exports.RedChariot = void 0;\r\nvar Util_1 = __importDefault(require(\"../../src/Util\"));\r\nvar ChessPiece_1 = require(\"./ChessPiece\");\r\nvar Chariot = /** @class */ (function (_super) {\r\n    __extends(Chariot, _super);\r\n    function Chariot(point, board, color) {\r\n        return _super.call(this, point, board, ChessPiece_1.PieceRole.General, color) || this;\r\n    }\r\n    Chariot.prototype.canMove = function (dest) {\r\n        var x = dest.x_coor;\r\n        var y = dest.y_coor;\r\n        //If the dest is not inside of the \"田\" shaped space of the board\r\n        //Returns false.\r\n        if (!this.isValidChariotPosition(x, y))\r\n            return false;\r\n        //If the place is outside of reach from the General,\r\n        //It returns false.\r\n        if (Math.abs(x - this.point.x_coor) > 1 || Math.abs(y - this.point.y_coor) > 1)\r\n            return false;\r\n        // We will add more logic for checking valid move later\r\n        // Current check is only for a valid position and no same side piece\r\n        return !_super.prototype.checkSameColorPiece.call(this, dest);\r\n    };\r\n    return Chariot;\r\n}(ChessPiece_1.Piece));\r\nvar RedChariot = /** @class */ (function (_super) {\r\n    __extends(RedChariot, _super);\r\n    function RedChariot(board, point) {\r\n        var _this = _super.call(this, point, board, ChessPiece_1.PieceColor.RED) || this;\r\n        _this.elem.src = '../img/pieces/red-ju.png';\r\n        _this.board = board;\r\n        _this.point.setPiece(_this); //sets the piece to the point.\r\n        $(_this.elem).on('click', function () {\r\n            // Log.trace(\"invoked this.checkColumns()\")\r\n            // Log.trace(this.checkColumn())\r\n            // Log.trace(this.checkRow())\r\n            _this.movablePoints().then(function (movable_grids) {\r\n                Util_1.default.trace('movable_grids in the listener');\r\n                Util_1.default.trace(movable_grids);\r\n                // let movable_arr:Point[] = movable_grids\r\n                // for(let grid of movable_arr){\r\n                // }\r\n            });\r\n        });\r\n        return _this;\r\n    }\r\n    RedChariot.prototype.movablePoints = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var moveable_points, async;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        moveable_points = [];\r\n                        async = $.when(moveable_points).then(function () {\r\n                            _this.checkColumn().then(function (col_movable) {\r\n                                Util_1.default.trace('col_movable');\r\n                                Util_1.default.trace(col_movable);\r\n                                moveable_points = moveable_points.concat(col_movable);\r\n                            });\r\n                            _this.checkRow().then(function (row_movable) {\r\n                                Util_1.default.trace('row_movable');\r\n                                Util_1.default.trace(row_movable);\r\n                                moveable_points = moveable_points.concat(row_movable);\r\n                                // Log.trace(moveable_points)\r\n                            });\r\n                        })\r\n                            .then(function () {\r\n                        })\r\n                            .then(function () {\r\n                            return moveable_points;\r\n                        });\r\n                        return [4 /*yield*/, async\r\n                            // Log.trace('moveable_points is empty here !!!!')\r\n                            // Log.trace(moveable_points)\r\n                        ];\r\n                    case 1:\r\n                        _a.sent();\r\n                        // Log.trace('moveable_points is empty here !!!!')\r\n                        // Log.trace(moveable_points)\r\n                        return [2 /*return*/, moveable_points];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    //returns the grids that General can go in a column\r\n    RedChariot.prototype.checkColumn = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var Y_coor, X_coor, piece_col, piece_row, start_flag, end_flag, index, movable_points_in_this_column, async;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        Util_1.default.trace(\"in checkColumns\");\r\n                        Y_coor = this.point.y_coor;\r\n                        X_coor = this.point.x_coor;\r\n                        piece_col = this.board.getColFromXCoordinate(this.point.x_coor);\r\n                        piece_row = this.board.getRowFromYCoordinate(this.point.y_coor);\r\n                        start_flag = 0;\r\n                        end_flag = 9;\r\n                        //trasversing the column (Point [])\r\n                        for (index in piece_col) {\r\n                            //if the piece in that point is not null, do some checking\r\n                            if (piece_col[index].piece != null) {\r\n                                //checks the indices that are smaller than the point\r\n                                if (parseInt(index) < Y_coor - 1) {\r\n                                    //if the point holds a friendly piece:\r\n                                    if (piece_col[index].piece.color == ChessPiece_1.PieceColor.RED)\r\n                                        start_flag = parseInt(index) + 1; // the index is not added, but the next one is.\r\n                                    else\r\n                                        start_flag = parseInt(index);\r\n                                    if (start_flag === Y_coor - 1) // if a friendly piece is blocking right abovbe it\r\n                                        start_flag = Y_coor; // start_flag is set to the next row \r\n                                    // Log.trace(\"start_flag:\" + start_flag)\r\n                                }\r\n                                //checks those larger than that point\r\n                                else if (parseInt(index) > Y_coor - 1) {\r\n                                    //if the point holds a friendly piece:\r\n                                    if (piece_col[index].piece.color == ChessPiece_1.PieceColor.RED)\r\n                                        end_flag = parseInt(index) - 1; // the index is not added, but the last one is.\r\n                                    else\r\n                                        end_flag = parseInt(index);\r\n                                    if (end_flag === Y_coor - 1) // if a friendly piece is blocking right below it\r\n                                        end_flag = Y_coor - 2; // start_flag is set to the next row \r\n                                    // Log.trace(\"end_flag:\" + end_flag)\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        movable_points_in_this_column = [];\r\n                        async = $.when(movable_points_in_this_column)\r\n                            .then(function () {\r\n                            for (var i = start_flag; i <= end_flag; i++) {\r\n                                //If the coordinate is the one that piece is in\r\n                                //It does not push it into the array.\r\n                                if (Y_coor - 1 === i) {\r\n                                    // Log.trace('skip');\r\n                                    continue;\r\n                                }\r\n                                movable_points_in_this_column.push(piece_col[i]);\r\n                            }\r\n                        })\r\n                            .then(function () {\r\n                            // Log.trace(movable_points_in_this_column)\r\n                            return movable_points_in_this_column;\r\n                        });\r\n                        return [4 /*yield*/, async];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/, movable_points_in_this_column\r\n                            // console.log(this.board.getColFromXCoordinate(X_coor));\r\n                        ];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    //returns the grids that the General can go in a row\r\n    RedChariot.prototype.checkRow = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var X_coor, piece_row, start_flag, end_flag, index, movable_points_in_this_row, async;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        Util_1.default.trace(\"in checkRows()\");\r\n                        X_coor = this.point.x_coor;\r\n                        piece_row = this.board.getRowFromYCoordinate(this.point.y_coor);\r\n                        start_flag = 0;\r\n                        end_flag = 8;\r\n                        //trasversing the column (Point [])\r\n                        for (index in piece_row) {\r\n                            //if the piece in that point is not null, do some checking\r\n                            if (piece_row[index].piece != null) {\r\n                                //checks the indices that are smaller than the point\r\n                                if (parseInt(index) < X_coor - 1) {\r\n                                    //if the point holds a friendly piece:\r\n                                    if (piece_row[index].piece.color == ChessPiece_1.PieceColor.RED)\r\n                                        start_flag = parseInt(index) + 1; // the index is not added, but the next one is.\r\n                                    else\r\n                                        start_flag = parseInt(index);\r\n                                    if (start_flag === X_coor - 1) // if a friendly piece is blocking right abovbe it\r\n                                        start_flag = X_coor; // start_flag is set to the next row \r\n                                    Util_1.default.trace(\"start_flag:\" + start_flag);\r\n                                }\r\n                                //checks those larger than that point\r\n                                else if (parseInt(index) > X_coor - 1) {\r\n                                    //if the point holds a friendly piece:\r\n                                    if (piece_row[index].piece.color == ChessPiece_1.PieceColor.RED)\r\n                                        end_flag = parseInt(index) - 1; // the index is not added, but the last one is.\r\n                                    else\r\n                                        end_flag = parseInt(index);\r\n                                    if (end_flag === X_coor - 1) // if a friendly piece is blocking right below it\r\n                                        end_flag = X_coor - 2; // start_flag is set to the next row \r\n                                    Util_1.default.trace(\"end_flag:\" + end_flag);\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        movable_points_in_this_row = [];\r\n                        async = $.when(movable_points_in_this_row)\r\n                            .then(function () {\r\n                            // console.log('start_flag:' + start_flag)\r\n                            // console.log('end_flag:' + end_flag)\r\n                            for (var i = start_flag; i <= end_flag; i++) {\r\n                                //If the coordinate is the one that piece is in\r\n                                //It does not push it into the array.\r\n                                if (X_coor - 1 === i) {\r\n                                    // Log.trace('skip');\r\n                                    continue;\r\n                                }\r\n                                movable_points_in_this_row.push(piece_row[i]);\r\n                            }\r\n                        })\r\n                            .then(function () {\r\n                            // Log.trace(movable_points_in_this_row)\r\n                            return movable_points_in_this_row;\r\n                        });\r\n                        return [4 /*yield*/, async];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/, movable_points_in_this_row];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    RedChariot.prototype.isValidChariotPosition = function (x, y) {\r\n        return (y >= 8) && (y <= 10) && (x >= 4) && (x <= 6) && !(x > 0 && y > 0);\r\n    };\r\n    return RedChariot;\r\n}(Chariot));\r\nexports.RedChariot = RedChariot;\r\nvar BlackChariot = /** @class */ (function (_super) {\r\n    __extends(BlackChariot, _super);\r\n    function BlackChariot(board, point) {\r\n        var _this = _super.call(this, point, board, ChessPiece_1.PieceColor.BLACK) || this;\r\n        _this.elem.src = '../img/pieces/black-ju.png';\r\n        _this.board = board;\r\n        _this.point.setPiece(_this); //sets the piece to the point.\r\n        $(_this.elem).on('click', function () {\r\n            console.log(\"inside click BlackChariot listener\");\r\n            console.log(_this.movablePoints());\r\n        });\r\n        return _this;\r\n    }\r\n    BlackChariot.prototype.movablePoints = function () {\r\n        // Log.trace('inside this.movablePoints()')\r\n        var moveable_points = [];\r\n        // moveable_points.length = 0;\r\n        moveable_points = moveable_points.concat(this.checkRow());\r\n        moveable_points = moveable_points.concat(this.checkColumn());\r\n        // Log.trace('moveable_points is empty here !!!!')\r\n        // Log.trace(moveable_points)\r\n        return moveable_points;\r\n    };\r\n    //returns the grids that General can go in a column\r\n    BlackChariot.prototype.checkColumn = function () {\r\n        Util_1.default.trace(\"in checkColumns\");\r\n        var Y_coor = this.point.y_coor;\r\n        var X_coor = this.point.x_coor;\r\n        var piece_col = this.board.getColFromXCoordinate(this.point.x_coor); //Checks the points in this column\r\n        var piece_row = this.board.getRowFromYCoordinate(this.point.y_coor); //Checks the points in this row\r\n        var start_flag = 0; //row 1\r\n        var end_flag = 9; //row 10 \r\n        //trasversing the column (Point [])\r\n        for (var index in piece_col) {\r\n            //if the piece in that point is not null, do some checking\r\n            if (piece_col[index].piece != null) {\r\n                //checks the indices that are smaller than the point\r\n                if (parseInt(index) < Y_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_col[index].piece.color == ChessPiece_1.PieceColor.BLACK)\r\n                        start_flag = parseInt(index) + 1; // the index is not added, but the next one is.\r\n                    else\r\n                        start_flag = parseInt(index);\r\n                    if (start_flag === Y_coor - 1) // if a friendly piece is blocking right abovbe it\r\n                        start_flag = Y_coor; // start_flag is set to the next row \r\n                    // Log.trace(\"start_flag:\" + start_flag)\r\n                }\r\n                //checks those larger than that point\r\n                else if (parseInt(index) > Y_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_col[index].piece.color == ChessPiece_1.PieceColor.BLACK)\r\n                        end_flag = parseInt(index) - 1; // the index is not added, but the last one is.\r\n                    else\r\n                        end_flag = parseInt(index);\r\n                    if (end_flag === Y_coor - 1) // if a friendly piece is blocking right below it\r\n                        end_flag = Y_coor - 2; // start_flag is set to the next row \r\n                    // Log.trace(\"end_flag:\" + end_flag)\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // an array to store all the movable points in a column\r\n        var movable_points_in_this_column = [];\r\n        for (var i = start_flag; i <= end_flag; i++) {\r\n            //If the coordinate is the one that piece is in\r\n            //It does not push it into the array.\r\n            if (Y_coor - 1 === i) {\r\n                // Log.trace('skip');\r\n                continue;\r\n            }\r\n            movable_points_in_this_column.push(piece_col[i]);\r\n        }\r\n        console.log(movable_points_in_this_column);\r\n        return movable_points_in_this_column;\r\n        // console.log(this.board.getColFromXCoordinate(X_coor));\r\n    };\r\n    //returns the grids that the General can go in a row\r\n    BlackChariot.prototype.checkRow = function () {\r\n        Util_1.default.trace(\"in checkRows()\");\r\n        // let Y_coor = this.point.y_coor\r\n        var X_coor = this.point.x_coor;\r\n        // let piece_col = this.board.getColFromXCoordinate(this.point.x_coor); //Checks the points in this column\r\n        var piece_row = this.board.getRowFromYCoordinate(this.point.y_coor); //Checks the points in this row\r\n        var start_flag = 0;\r\n        var end_flag = 8;\r\n        //trasversing the column (Point [])\r\n        for (var index in piece_row) {\r\n            //if the piece in that point is not null, do some checking\r\n            if (piece_row[index].piece != null) {\r\n                //checks the indices that are smaller than the point\r\n                if (parseInt(index) < X_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_row[index].piece.isFriendly())\r\n                        start_flag = parseInt(index) + 1; // the index is not added, but the next one is.\r\n                    else\r\n                        start_flag = parseInt(index);\r\n                    if (start_flag === X_coor - 1) // if a friendly piece is blocking right abovbe it\r\n                        start_flag = X_coor; // start_flag is set to the next row \r\n                    Util_1.default.trace(\"start_flag:\" + start_flag);\r\n                }\r\n                //checks those larger than that point\r\n                else if (parseInt(index) > X_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_row[index].piece.isFriendly())\r\n                        end_flag = parseInt(index) - 1; // the index is not added, but the last one is.\r\n                    else\r\n                        end_flag = parseInt(index);\r\n                    if (end_flag === X_coor - 1) // if a friendly piece is blocking right below it\r\n                        end_flag = X_coor - 2; // start_flag is set to the next row \r\n                    Util_1.default.trace(\"end_flag:\" + end_flag);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // an array to store all the movable points in a column\r\n        var movable_points_in_this_row = [];\r\n        for (var i = start_flag; i <= end_flag; i++) {\r\n            //If the coordinate is the one that piece is in\r\n            //It does not push it into the array.\r\n            if (X_coor - 1 === i) {\r\n                // Log.trace('skip');\r\n                continue;\r\n            }\r\n            movable_points_in_this_row.push(piece_row[i]);\r\n        }\r\n        console.log(movable_points_in_this_row);\r\n        return movable_points_in_this_row;\r\n    };\r\n    BlackChariot.prototype.isValidChariotPosition = function (x, y) {\r\n        return (y >= 0) && (y <= 10) && (x >= 0) && (x <= 9) && !(x > 0 && y > 0);\r\n    };\r\n    return BlackChariot;\r\n}(Chariot));\r\nexports.BlackChariot = BlackChariot;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PieceColor = exports.PieceRole = exports.Piece = void 0;\r\nvar frontend_utils_1 = require(\"./frontend-utils\");\r\n// used in class Piece\r\nvar PieceColor;\r\n(function (PieceColor) {\r\n    PieceColor[PieceColor[\"BLACK\"] = 0] = \"BLACK\";\r\n    PieceColor[PieceColor[\"RED\"] = 1] = \"RED\";\r\n})(PieceColor || (PieceColor = {}));\r\nexports.PieceColor = PieceColor;\r\n// used in class Game, \r\nvar PlayerColor;\r\n(function (PlayerColor) {\r\n    PlayerColor[PlayerColor[\"black\"] = 0] = \"black\";\r\n    PlayerColor[PlayerColor[\"red\"] = 1] = \"red\";\r\n})(PlayerColor || (PlayerColor = {}));\r\nvar PieceRole;\r\n(function (PieceRole) {\r\n    PieceRole[PieceRole[\"General\"] = 0] = \"General\";\r\n    PieceRole[PieceRole[\"Advisor\"] = 1] = \"Advisor\";\r\n    PieceRole[PieceRole[\"Elephant\"] = 2] = \"Elephant\";\r\n    PieceRole[PieceRole[\"Chariot\"] = 3] = \"Chariot\";\r\n    PieceRole[PieceRole[\"Horse\"] = 4] = \"Horse\";\r\n    PieceRole[PieceRole[\"Cannon\"] = 5] = \"Cannon\";\r\n    PieceRole[PieceRole[\"Soldier\"] = 6] = \"Soldier\";\r\n})(PieceRole || (PieceRole = {}));\r\nexports.PieceRole = PieceRole;\r\nvar Piece = /** @class */ (function () {\r\n    function Piece(point, board, role, color) {\r\n        this.point = point;\r\n        this.selected = false;\r\n        this.active = false;\r\n        this.ratio = 100;\r\n        this.side_length = this.ratio * 0.01 * frontend_utils_1.SIDE_LENGTH;\r\n        this.board = board;\r\n        this.elem = document.createElement(\"img\");\r\n        this.piece_role = role;\r\n        this.color = color;\r\n    }\r\n    Piece.prototype.getElement = function () {\r\n        return this.elem;\r\n    };\r\n    Piece.prototype.getRole = function () {\r\n        return this.piece_role;\r\n    };\r\n    Piece.prototype.getColor = function () {\r\n        return this.color;\r\n    };\r\n    //sets the point of the piece\r\n    Piece.prototype.moveToPoint = function (point) {\r\n        this.point = point;\r\n    };\r\n    /**\r\n     * @param point Check if a point has a piece with the same side\r\n     *\r\n     */\r\n    Piece.prototype.checkSameColorPiece = function (point) {\r\n        var piece = point.getPiece();\r\n        if (!piece) {\r\n            return false;\r\n        }\r\n        return piece.getColor() === this.color;\r\n    };\r\n    /**\r\n * @param point Check if a point has a piece with the same side\r\n *\r\n */\r\n    Piece.prototype.isFriendly = function (piece) {\r\n        if (!piece) {\r\n            return false;\r\n        }\r\n        return piece.getColor() === this.color;\r\n    };\r\n    Piece.prototype.isEnemy = function (piece) {\r\n        if (!piece) {\r\n            return false;\r\n        }\r\n        return piece.getColor() != this.color;\r\n    };\r\n    Piece.prototype.render = function () {\r\n        this.board.intersections[this.point.x_coor - 1][this.point.y_coor - 1].elem.append(this.elem); // encapsulates the next line of code;\r\n        $(this.elem).addClass('pieces');\r\n        //add className for the HTML <img> of the piece - PieceRole\r\n        $(this.elem).addClass(PieceRole[this.piece_role].toString());\r\n        //add className for the HTML <img> of the piece - PieceColor\r\n        $(this.elem).addClass(PieceColor[this.color].toString());\r\n        // $(window).on('resize',Piece.adjustResize);\r\n        // $(this.elem)\r\n        //     .on('mousedown',function () {\r\n        //         isDragging = false;\r\n        //         console.log(isDragging)\r\n        //     })\r\n        //     .on('mousemove',function () {\r\n        //         isDragging = true;\r\n        //         console.log(isDragging)\r\n        //     })\r\n        //     .on('mouseup',function () {\r\n        //         var wasDragging = isDragging;\r\n        //         isDragging = false;\r\n        //         console.log(isDragging)\r\n        //         if (!wasDragging) {\r\n        //             console.log('dragging')\r\n        //             $(\"#throbble\").toggle();\r\n        //         }\r\n        //     });\r\n        // TODO: click events:\r\n    };\r\n    Piece.adjustResize = function () {\r\n        if (screen.width == window.innerWidth) {\r\n            console.log(\"at exact 100%\");\r\n            frontend_utils_1.getChessBoardSize();\r\n            $('.className_grid_div').css('width', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.className_grid_div').css('height', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.pieces').css('width', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.pieces').css('height', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $(\"#board\").css(\"width\", $(\"#board\").css('height'));\r\n            $(\"#id_chessboard\").css(\"width\", $(\"#board\").css('width'));\r\n        }\r\n        else if (screen.width > window.innerWidth) {\r\n            console.log(\"you have zoomed in the page i.e more than 100%\");\r\n            frontend_utils_1.getZoomedRatio();\r\n            frontend_utils_1.getChessBoardSize();\r\n            $('.className_grid_div').css('width', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.className_grid_div').css('height', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.pieces').css('width', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.pieces').css('height', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $(\"#board\").css(\"width\", $(\"#board\").css('height'));\r\n            $(\"#id_chessboard\").css(\"width\", $(\"#board\").css('width'));\r\n        }\r\n        else {\r\n            console.log(\"you have zoomed out i.e less than 100%\");\r\n            frontend_utils_1.getZoomedRatio();\r\n            frontend_utils_1.getChessBoardSize();\r\n            var current_width = $('.className_grid_div').css('width');\r\n            $('.className_grid_div').css('width', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.className_grid_div').css('height', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.pieces').css('width', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.pieces').css('height', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $(\"#board\").css(\"width\", $(\"#board\").css('height'));\r\n            $(\"#id_chessboard\").css(\"width\", $(\"#board\").css('width'));\r\n        }\r\n    };\r\n    return Piece;\r\n}());\r\nexports.Piece = Piece;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Boards_1 = require(\"./Boards\");\r\nvar Chariot_1 = require(\"./Chariot\");\r\nvar frontend_utils_1 = require(\"./frontend-utils\");\r\nvar General_1 = require(\"./General\");\r\nvar Game = /** @class */ (function () {\r\n    // Stub constructor to be a placeholder\r\n    function Game() {\r\n        this.currentPlayer = frontend_utils_1.PlayerColor.red;\r\n        this.board = new Boards_1.Board();\r\n    }\r\n    // gets the public player\r\n    Game.prototype.getCurrentPlayer = function () {\r\n        return this.currentPlayer;\r\n    };\r\n    //switch current player to the other player\r\n    Game.prototype.alternatePlayer = function () {\r\n        if (this.currentPlayer === frontend_utils_1.PlayerColor.red)\r\n            this.currentPlayer = frontend_utils_1.PlayerColor.black;\r\n        else\r\n            this.currentPlayer = frontend_utils_1.PlayerColor.red;\r\n    };\r\n    Game.prototype.render = function () {\r\n        this.board.render();\r\n        var red_shuai = new General_1.RedGeneral(this.board, this.board.getPointFromCoordinates(5, 10)); //new Point() doesn't make sense.\r\n        red_shuai.render();\r\n        var black_jiang = new General_1.BlackGeneral(this.board, this.board.getPointFromCoordinates(5, 1)); // using getPoint from coor now\r\n        black_jiang.render();\r\n        var red_ju_one = new Chariot_1.RedChariot(this.board, this.board.getPointFromCoordinates(1, 1));\r\n        var red_ju_two = new Chariot_1.RedChariot(this.board, this.board.getPointFromCoordinates(9, 1));\r\n        var red_ju_test = new Chariot_1.RedChariot(this.board, this.board.getPointFromCoordinates(9, 3));\r\n        var red_ju_test2 = new Chariot_1.RedChariot(this.board, this.board.getPointFromCoordinates(9, 4));\r\n        var black_ju_one = new Chariot_1.BlackChariot(this.board, this.board.getPointFromCoordinates(1, 10));\r\n        var black_ju_two = new Chariot_1.BlackChariot(this.board, this.board.getPointFromCoordinates(9, 10));\r\n        red_ju_one.render();\r\n        red_ju_two.render();\r\n        black_ju_one.render();\r\n        black_ju_two.render();\r\n        red_ju_test.render();\r\n        red_ju_test2.render();\r\n    };\r\n    return Game;\r\n}());\r\nvar game = new Game();\r\ngame.render();\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BlackGeneral = exports.RedGeneral = void 0;\r\nvar ChessPiece_1 = require(\"./ChessPiece\");\r\nvar General = /** @class */ (function (_super) {\r\n    __extends(General, _super);\r\n    function General(point, board, color) {\r\n        return _super.call(this, point, board, ChessPiece_1.PieceRole.General, color) || this;\r\n    }\r\n    General.prototype.canMove = function (dest) {\r\n        var x = dest.x_coor;\r\n        var y = dest.y_coor;\r\n        //If the dest is not inside of the \"田\" shaped space of the board\r\n        //Returns false.\r\n        if (!this.isValidGeneralPosition(x, y))\r\n            return false;\r\n        //If the place is outside of reach from the General,\r\n        //It returns false.\r\n        if (Math.abs(x - this.point.x_coor) > 1 || Math.abs(y - this.point.y_coor) > 1)\r\n            return false;\r\n        // We will add more logic for checking valid move later\r\n        // Current check is only for a valid position and no same side piece\r\n        return !_super.prototype.checkSameColorPiece.call(this, dest);\r\n    };\r\n    return General;\r\n}(ChessPiece_1.Piece));\r\nvar RedGeneral = /** @class */ (function (_super) {\r\n    __extends(RedGeneral, _super);\r\n    function RedGeneral(board, point) {\r\n        var _this = _super.call(this, point, board, ChessPiece_1.PieceColor.RED) || this;\r\n        _this.elem.src = '../img/pieces/red-shuai.png';\r\n        _this.board = board;\r\n        _this.point.setPiece(_this); //sets the piece to the point.\r\n        return _this;\r\n    }\r\n    //returns the grids that General can go in a column\r\n    RedGeneral.prototype.checkColumns = function () {\r\n        var Y_coor = this.point.y_coor;\r\n        var X_coor = this.point.x_coor;\r\n        var front = this.board.getPointFromCoordinates(X_coor, Y_coor - 1);\r\n        var back = this.board.getPointFromCoordinates(X_coor, Y_coor + 1); //out of bound err\r\n        if (front) {\r\n            console.log('front.getPiece()');\r\n            console.log(front.getPiece());\r\n        }\r\n        console.log(this.board.getColFromXCoordinate(X_coor));\r\n    };\r\n    //returns the grids that General can go in a row\r\n    RedGeneral.prototype.checkRows = function () {\r\n        var Y_coor = this.point.y_coor;\r\n        var X_coor = this.point.x_coor;\r\n        var front = this.board.getPointFromCoordinates(X_coor, Y_coor - 1);\r\n        var back = this.board.getPointFromCoordinates(X_coor, Y_coor + 1); //out of bound err\r\n        if (front) {\r\n            console.log('front.getPiece()');\r\n            console.log(front.getPiece());\r\n        }\r\n        console.log(this.board.getColFromXCoordinate(X_coor));\r\n    };\r\n    RedGeneral.prototype.isValidGeneralPosition = function (x, y) {\r\n        return (y >= 8) && (y <= 10) && (x >= 4) && (x <= 6) && !(x > 0 && y > 0);\r\n    };\r\n    return RedGeneral;\r\n}(General));\r\nexports.RedGeneral = RedGeneral;\r\nvar BlackGeneral = /** @class */ (function (_super) {\r\n    __extends(BlackGeneral, _super);\r\n    function BlackGeneral(board, point) {\r\n        var _this = _super.call(this, point, board, ChessPiece_1.PieceColor.BLACK) || this;\r\n        _this.elem.src = '../img/pieces/black-jiang.png';\r\n        _this.board = board;\r\n        _this.point.setPiece(_this); //sets the piece to the point.\r\n        return _this;\r\n    }\r\n    BlackGeneral.prototype.isValidGeneralPosition = function (x, y) {\r\n        return (y >= 1) && (y <= 3) && (x >= 4) && (x <= 6) && !(x > 0 && y > 0);\r\n    };\r\n    return BlackGeneral;\r\n}(General));\r\nexports.BlackGeneral = BlackGeneral;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PlayerColor = exports.PieceColor = exports.SIDE_LENGTH_vw = exports.SIDE_LENGTH = exports.Point = exports.fitSize = exports.getChessBoardSize = exports.getZoomedRatio = void 0;\r\nvar Util_1 = __importDefault(require(\"../../src/Util\"));\r\n// used in class Piece\r\nvar PieceColor;\r\n(function (PieceColor) {\r\n    PieceColor[PieceColor[\"black\"] = 0] = \"black\";\r\n    PieceColor[PieceColor[\"red\"] = 1] = \"red\";\r\n})(PieceColor || (PieceColor = {}));\r\nexports.PieceColor = PieceColor;\r\n// used in class Game, \r\nvar PlayerColor;\r\n(function (PlayerColor) {\r\n    PlayerColor[PlayerColor[\"black\"] = 0] = \"black\";\r\n    PlayerColor[PlayerColor[\"red\"] = 1] = \"red\";\r\n})(PlayerColor || (PlayerColor = {}));\r\nexports.PlayerColor = PlayerColor;\r\nfunction getZoomedRatio() {\r\n    var ratio = 0;\r\n    if (window.devicePixelRatio !== undefined) {\r\n        ratio = window.devicePixelRatio;\r\n    }\r\n    else if (window.outerWidth !== undefined && window.innerWidth !== undefined) {\r\n        ratio = window.outerWidth / window.innerWidth;\r\n    }\r\n    if (ratio) {\r\n        ratio = Math.round(ratio * 100);\r\n    }\r\n    return ratio;\r\n}\r\nexports.getZoomedRatio = getZoomedRatio;\r\nfunction getChessBoardSize() {\r\n    Util_1.default.trace('chessboard size:');\r\n    var chessboard = $('#id_chessboard');\r\n    Util_1.default.trace('chessboad width');\r\n    Util_1.default.trace(chessboard.css('width'));\r\n    Util_1.default.trace('chessboad height');\r\n    Util_1.default.trace(chessboard.css('height'));\r\n}\r\nexports.getChessBoardSize = getChessBoardSize;\r\n// The vertical lines are known as files (Chinese: 路; pinyin: lù; \"road\")\r\n// the horizontal lines are known as ranks 线 xiàn; \"line\"\r\nvar Point = /** @class */ (function () {\r\n    function Point(col, row) {\r\n        // this.board = board;\r\n        this.x_coor = col; //col -> verticle\r\n        this.y_coor = row; //row -> horizontal\r\n        // A dummy element for initialization first and then update in method\r\n        this.elem = document.createElement('div');\r\n        this.updateElement(col, row);\r\n    }\r\n    /** when piece moves in\r\n        it binds the piece with the grid.\r\n        notice when the piece is moving out from a grid\r\n        the piece should be set to null.\r\n        @param piece: a nullable Piece object\r\n    */\r\n    Point.prototype.setPiece = function (piece) {\r\n        this.piece = piece;\r\n    };\r\n    Point.prototype.hasPiece = function () {\r\n        return this.piece ? true : false;\r\n    };\r\n    //gets the piece in the current grid\r\n    Point.prototype.getPiece = function () {\r\n        return this.piece;\r\n    };\r\n    Point.prototype.updateElement = function (newCol, newRow) {\r\n        var grid_div = this.elem;\r\n        var oldCol = this.x_coor;\r\n        var oldRow = this.y_coor;\r\n        /* code previously found in board initialization, with div_2d_array\r\n           now divs are bound to specific points.\r\n        */\r\n        grid_div.id = \"grid_div_\" + oldCol + \"_\" + oldRow;\r\n        $(\"#\" + grid_div.id).remove(); //must remove the original one, in order to make it unique.\r\n        grid_div.className = 'className_grid_div';\r\n        $(grid_div).css('grid-column', newCol);\r\n        $(grid_div).css('grid-row', newRow);\r\n        $('#board').append(grid_div);\r\n        // this.board.intersections[newCol-1][newRow-1] = this; //replace the original point with the newly updated point.\r\n    };\r\n    return Point;\r\n}());\r\nexports.Point = Point;\r\n//how many px when it's zoomed 100%\r\nvar SIDE_LENGTH = 75;\r\nexports.SIDE_LENGTH = SIDE_LENGTH;\r\nvar SIDE_LENGTH_vw = 70 / (getZoomedRatio() * 0.01);\r\nexports.SIDE_LENGTH_vw = SIDE_LENGTH_vw;\r\nfunction fitSize() {\r\n    var board = $('#board');\r\n    $.when()\r\n        //fiting size for the board\r\n        .then(function () {\r\n        board.css('width', board.css('height'));\r\n        board.css('height', board.css('width'));\r\n    })\r\n        //fiting sizes for the grids\r\n        .then(function () {\r\n        $('.className_grid_div').css('width', parseInt(board.css('width')) / 11);\r\n        $('.className_grid_div').css('height', parseInt(board.css('height')) / 10);\r\n        $('.className_grid_div').css('z-index', 10);\r\n        $('.className_grid_div').css('margin', 0);\r\n    })\r\n        //fiting sizes for the pieces\r\n        .then(function () {\r\n        $('.pieces').css('width', parseInt($('.className_grid_div').css('width')));\r\n        $('.pieces').css('height', parseInt($('.className_grid_div').css('width')));\r\n    })\r\n        .then(function () {\r\n        board.css('max-width', board.css('height'));\r\n    });\r\n}\r\nexports.fitSize = fitSize;\r\n","\"use strict\";\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Log = /** @class */ (function () {\r\n    function Log() {\r\n    }\r\n    Log.trace = function () {\r\n        var msg = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            msg[_i] = arguments[_i];\r\n        }\r\n        console.log.apply(console, __spreadArrays([\"<T> \" + new Date().toLocaleString() + \":\"], msg));\r\n    };\r\n    Log.info = function () {\r\n        var msg = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            msg[_i] = arguments[_i];\r\n        }\r\n        console.info.apply(console, __spreadArrays([\"<I> \" + new Date().toLocaleString() + \":\"], msg));\r\n    };\r\n    Log.warn = function () {\r\n        var msg = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            msg[_i] = arguments[_i];\r\n        }\r\n        console.warn.apply(console, __spreadArrays([\"<W> \" + new Date().toLocaleString() + \":\"], msg));\r\n    };\r\n    Log.error = function () {\r\n        var msg = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            msg[_i] = arguments[_i];\r\n        }\r\n        console.error.apply(console, __spreadArrays([\"<E> \" + new Date().toLocaleString() + \":\"], msg));\r\n    };\r\n    Log.test = function () {\r\n        var msg = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            msg[_i] = arguments[_i];\r\n        }\r\n        console.log.apply(console, __spreadArrays([\"<X> \" + new Date().toLocaleString() + \":\"], msg));\r\n    };\r\n    return Log;\r\n}());\r\nexports.default = Log;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module\n__webpack_require__(20);\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}