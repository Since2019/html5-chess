{"version":3,"sources":["webpack://html5-chess/./frontend/src/Boards.ts","webpack://html5-chess/./frontend/src/Cannon.ts","webpack://html5-chess/./frontend/src/Chariot.ts","webpack://html5-chess/./frontend/src/ChessPiece.ts","webpack://html5-chess/./frontend/src/Game.ts","webpack://html5-chess/./frontend/src/General.ts","webpack://html5-chess/./frontend/src/frontend-utils.ts","webpack://html5-chess/./src/Util.ts","webpack://html5-chess/webpack/bootstrap","webpack://html5-chess/webpack/startup"],"names":["Object","defineProperty","exports","value","Board","frontend_utils_1","game","this","ratio","side_length","SIDE_LENGTH","target_coordinate","intersections","Array","i","j","Point","prototype","movePieceFromSrcToDest","piece","point_source","point_dest","setPiece","moveToPoint","getPointFromCoordinates","x_coor","y_coor","validateXCoordinate","validateYCoordinate","getCoordinateFromElemId","id","console","log","split_arr","split","coor_x","coor_y","parseInt","x","y","getRowFromYCoordinate","row","push","getColFromXCoordinate","col","detectZoom","undefined","window","devicePixelRatio","outerWidth","innerWidth","Math","round","render","board","$","css","on","fitSize","document","extendStatics","__extends","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","call","__","constructor","create","__importDefault","mod","__esModule","BlackCannon","RedCannon","Util_1","ChessPiece_1","Cannon","_super","point","color","PieceRole","General","isValidCannonPosition","canMove","dest","abs","checkSameColorPieceInPoint","movablePoints","moveable_points","concat","checkRow","checkColumn","checkShellingRow","checkShellingCol","default","trace","X_coor","piece_row","cornerstone_flag","shellable_points_in_this_column","index","Y_coor","piece_col","start_flag","end_flag","PlayerColor","BLACK","movable_points_in_this_column","getPiece","isFriendly","movable_points_in_this_row","Piece","_this","elem","src","RED","BlackChariot","RedChariot","Chariot","isValidChariotPosition","enumerable","get","role","active","piece_role","createElement","state","e","preventDefault","listenerManager","attachSelectPieceListener","active_piece","movable_points","getCurrentPlayer","forEach","setTimeout","attachMoveToGridListener","target","tagName","parentNode","parentElement","toUpperCase","hasPiece","alert","removeMoveToGridListener","innerHTML","next_x_coor","next_y_coor","alternatePlayer","off","getElement","removeChild","appendChild","getRole","getColor","getTargetPointCoordinate","getTargetPointXCoordinate","getTargetPointYCoordinate","isEnemy","append","addClass","toString","adjustResize","screen","width","getChessBoardSize","getZoomedRatio","Boards_1","Chariot_1","General_1","Cannon_1","Game","currentPlayer","RedGeneral","BlackGeneral","red_ju_one","red_ju_two","black_ju_one","black_ju_two","red_cannon_one","red_cannon_two","black_cannon_one","black_cannon_two","checkPeriphery","front","back","left","right","isValidGeneralPosition","targetPoint","getX","getY","err","error","SIDE_LENGTH_vw","chessboard","updateElement","newCol","newRow","grid_div","oldCol","oldRow","remove","className","when","then","__spreadArrays","s","il","arguments","length","r","k","a","jl","Log","msg","_i","apply","Date","toLocaleString","info","warn","test","__webpack_module_cache__","__webpack_require__","moduleId","module","__webpack_modules__"],"mappings":"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","file":"bundle.js","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Board = void 0;\r\nvar frontend_utils_1 = require(\"./frontend-utils\");\r\n// 棋盘\r\nvar Board = /** @class */ (function () {\r\n    function Board(game) {\r\n        // 游戏和棋盘要耦合\r\n        this.game = game;\r\n        // 缩放相关\r\n        this.ratio = 100; //default ratio 100%\r\n        this.side_length = this.ratio * 0.01 * frontend_utils_1.SIDE_LENGTH;\r\n        // 玩家选择的下一个位置\r\n        this.target_coordinate = [-1, -1];\r\n        //A.K.A points.\r\n        this.intersections = new Array();\r\n        for (var i = 0; i < 9; i++) {\r\n            this.intersections[i] = [];\r\n            for (var j = 0; j < 10; j++) {\r\n                // 1 2 3 4 5 6 7 8 9\r\n                // 2\r\n                // 3\r\n                // 4\r\n                // 5\r\n                // 6\r\n                // 7\r\n                // 8\r\n                // 9\r\n                // 10\r\n                this.intersections[i][j] = (new frontend_utils_1.Point((i + 1), (j + 1)));\r\n            }\r\n        }\r\n    }\r\n    //invokes functions in Piece and Point simutaniously\r\n    Board.prototype.movePieceFromSrcToDest = function (piece, point_source, point_dest) {\r\n        point_source.setPiece(null); //the piece is moving out to another grid, so it's set to null.\r\n        piece.moveToPoint(point_dest); // the piece now knows which new place it's in\r\n        point_dest.setPiece(piece); // the point the piece moves in knows which piece it's receiving.\r\n    };\r\n    //get a specific point from coordinates\r\n    Board.prototype.getPointFromCoordinates = function (x_coor, y_coor) {\r\n        if (!this.validateXCoordinate(x_coor) || !this.validateYCoordinate(y_coor))\r\n            return null;\r\n        return this.intersections[x_coor - 1][y_coor - 1];\r\n    };\r\n    // 从HTML Element的ID中获取坐标\r\n    Board.prototype.getCoordinateFromElemId = function (id) {\r\n        // grid_div_5_6\r\n        console.log(id);\r\n        var split_arr = id.split('_');\r\n        var coor_x = split_arr[2];\r\n        var coor_y = split_arr[3];\r\n        return [parseInt(coor_x), parseInt(coor_y)];\r\n    };\r\n    // Check for valid x coordinate\r\n    Board.prototype.validateXCoordinate = function (x) {\r\n        return x >= 1 && x <= 9;\r\n    };\r\n    // Check for valid y coordinate\r\n    Board.prototype.validateYCoordinate = function (y) {\r\n        return y >= 1 && y <= 10;\r\n    };\r\n    //get a row from y_coor(nth row)\r\n    Board.prototype.getRowFromYCoordinate = function (y_coor) {\r\n        var row = [];\r\n        for (var i = 0; i < 9; i++) {\r\n            row.push(this.intersections[i][y_coor - 1]);\r\n        }\r\n        return row;\r\n    };\r\n    //get a column from x_coor(nth col)\r\n    Board.prototype.getColFromXCoordinate = function (x_coor) {\r\n        var col = [];\r\n        for (var j = 0; j < 10; j++) {\r\n            col.push(this.intersections[x_coor - 1][j]);\r\n        }\r\n        return col;\r\n    };\r\n    Board.prototype.detectZoom = function () {\r\n        var ratio = 0;\r\n        if (window.devicePixelRatio !== undefined) {\r\n            ratio = window.devicePixelRatio;\r\n        }\r\n        // ???? not working, why?\r\n        // else if (~ua.indexOf('msie')) {\r\n        //     if (screen.deviceXDPI && screen.logicalXDPI) {\r\n        //         ratio = screen.deviceXDPI / screen.logicalXDPI;\r\n        //     }\r\n        // }\r\n        else if (window.outerWidth !== undefined && window.innerWidth !== undefined) {\r\n            ratio = window.outerWidth / window.innerWidth;\r\n        }\r\n        if (ratio) {\r\n            ratio = Math.round(ratio * 100);\r\n        }\r\n        this.ratio = ratio;\r\n    };\r\n    Board.prototype.render = function () {\r\n        var board = $('#board');\r\n        // $(board).css('height', 'fit-content');\r\n        $(\"#id_chessboard\").css(\"position\", \"fixed\");\r\n        $(\"#id_chessboard\").css(\"max-height\", '100vh');\r\n        // $(\"#board\").css(\"left\", \"0px\");\r\n        $(\"#id_chessboard\").css(\"margin\", \"0\");\r\n        $(\"#id_chessboard\").css(\"padding\", \"0vw\");\r\n        board.css('margin-left', 'auto');\r\n        board.css('margin-right', 'auto');\r\n        board.css('padding', 0);\r\n        //for testing purposes, added some color to the background\r\n        $('.className_grid_div').css('background-color', 'rgba(255,0,0,0.3)');\r\n        //fits the size when resizing\r\n        $(window).on('resize', function () {\r\n            frontend_utils_1.fitSize();\r\n        });\r\n        //fixed the size issue upon entry\r\n        $(document).on('ready', function () {\r\n            frontend_utils_1.fitSize();\r\n        });\r\n        $(\"#board\").css(\"max-width\", \"100vh\");\r\n    };\r\n    return Board;\r\n}());\r\nexports.Board = Board;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BlackCannon = exports.RedCannon = void 0;\r\nvar Util_1 = __importDefault(require(\"../../src/Util\"));\r\nvar ChessPiece_1 = require(\"./ChessPiece\");\r\nvar Cannon = /** @class */ (function (_super) {\r\n    __extends(Cannon, _super);\r\n    function Cannon(point, board, color) {\r\n        return _super.call(this, point, board, ChessPiece_1.PieceRole.General, color) || this;\r\n    }\r\n    /**\r\n     *\r\n     * @param x\r\n     * @param y\r\n     * @returns boolean to indicate if the pass in coordinate is valid general position\r\n     */\r\n    Cannon.prototype.isValidCannonPosition = function (x, y) {\r\n        return (y >= 0) && (y <= 10) && (x >= 0) && (x <= 9);\r\n    };\r\n    Cannon.prototype.canMove = function (dest) {\r\n        var x = dest.x_coor;\r\n        var y = dest.y_coor;\r\n        //If the dest is not inside of the \"田\" shaped space of the board\r\n        //Returns false.\r\n        if (!this.isValidCannonPosition(x, y))\r\n            return false;\r\n        //If the place is outside of reach from the General,\r\n        //It returns false.\r\n        if (Math.abs(x - this.point.x_coor) > 1 || Math.abs(y - this.point.y_coor) > 1)\r\n            return false;\r\n        // We will add more logic for checking valid move later\r\n        // Current check is only for a valid position and no same side piece\r\n        return !_super.prototype.checkSameColorPieceInPoint.call(this, dest);\r\n    };\r\n    Cannon.prototype.movablePoints = function () {\r\n        var moveable_points = [];\r\n        moveable_points = moveable_points.concat(this.checkRow());\r\n        moveable_points = moveable_points.concat(this.checkColumn());\r\n        moveable_points = moveable_points.concat(this.checkShellingRow());\r\n        moveable_points = moveable_points.concat(this.checkShellingCol());\r\n        return moveable_points;\r\n    };\r\n    // 检查可以炮轰的地方\r\n    Cannon.prototype.checkShellingRow = function () {\r\n        Util_1.default.trace(\"in checkShelling()\");\r\n        Util_1.default.trace(\"Cannon\");\r\n        // let Y_coor = this.point.y_coor\r\n        var X_coor = this.point.x_coor;\r\n        // let piece_col = this.board.getColFromXCoordinate(this.point.x_coor); //Checks the points in this column\r\n        var piece_row = this.board.getRowFromYCoordinate(this.point.y_coor); //Checks the points in this row\r\n        var cornerstone_flag = false;\r\n        var target_point_flag = -1;\r\n        var shellable_points_in_this_column = [];\r\n        for (var index in piece_row) {\r\n            if (parseInt(index) < X_coor - 1) {\r\n                Util_1.default.trace(\"正在检测该棋子的左侧\");\r\n                // 有任何一方的棋子\r\n                if (piece_row[index].piece) {\r\n                    // 有了炮台，下一个有棋子的格子就是可以走的\r\n                    if (cornerstone_flag) {\r\n                        shellable_points_in_this_column.push(piece_row[index]);\r\n                        break; //只加一个点进去就结束了\r\n                    }\r\n                    // 没有炮台，这就是炮台\r\n                    else if (!cornerstone_flag) {\r\n                        cornerstone_flag = true; // the index is not added, but the next one is.\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n            else if (parseInt(index) > X_coor + 1) {\r\n                Util_1.default.trace(\"正在检测该棋子的右侧\");\r\n                // 有任何一方的棋子\r\n                if (piece_row[index].piece) {\r\n                    // 有了炮台，下一个有棋子的格子就是可以走的\r\n                    if (cornerstone_flag) {\r\n                        shellable_points_in_this_column.push(piece_row[index]);\r\n                        break; //只加一个点进去就结束了\r\n                    }\r\n                    // 没有炮台，这就是炮台\r\n                    else if (!cornerstone_flag) {\r\n                        cornerstone_flag = true; // the index is not added, but the next one is.\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return shellable_points_in_this_column;\r\n    };\r\n    // 检查可以炮轰的地方\r\n    Cannon.prototype.checkShellingCol = function () {\r\n        Util_1.default.trace(\"in checkShelling()\");\r\n        Util_1.default.trace(\"Cannon\");\r\n        var Y_coor = this.point.y_coor;\r\n        // let X_coor = this.point.x_coor\r\n        var piece_col = this.board.getColFromXCoordinate(this.point.x_coor); //Checks the points in this column\r\n        // let piece_row = this.board.getRowFromYCoordinate(this.point.y_coor);//Checks the points in this row\r\n        var cornerstone_flag = false;\r\n        var target_point_flag = -1;\r\n        var shellable_points_in_this_column = [];\r\n        for (var index in piece_col) {\r\n            if (parseInt(index) < Y_coor) {\r\n                Util_1.default.trace(\"正在检测该棋子的上方\");\r\n                // 有任何一方的棋子\r\n                if (piece_col[index].piece) {\r\n                    console.log('piece_col[index]piece_col[index] ===================++');\r\n                    console.log(piece_col[index]);\r\n                    // 有了炮台，下一个有棋子的格子就是可以走的\r\n                    if (cornerstone_flag) {\r\n                        Util_1.default.trace(\"有炮台了，添加以下点：\");\r\n                        Util_1.default.trace(piece_col[index]);\r\n                        shellable_points_in_this_column.push(piece_col[index]);\r\n                        break; //只加一个点进去就结束了\r\n                    }\r\n                    // 没有炮台，这就是炮台\r\n                    else if (!cornerstone_flag) {\r\n                        Util_1.default.trace(\"无炮台\");\r\n                        cornerstone_flag = true; // the index is not added, but the next one is.\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n            else if (parseInt(index) > Y_coor) {\r\n                Util_1.default.trace(\"正在检测该棋子的下方\");\r\n                // 检测到该点内有任何一方的棋子\r\n                if (piece_col[index].piece) {\r\n                    console.log('piece_col[index] ===================++');\r\n                    console.log(piece_col[index]);\r\n                    console.log(\"cornerstone_flag:\");\r\n                    console.log(cornerstone_flag);\r\n                    // console.log('piece_col-------------------------------------')\r\n                    // console.log(piece_col)\r\n                    // console.log(shellable_points_in_this_column)\r\n                    // 有了炮台，下一个有棋子的格子就是可以走的\r\n                    if (cornerstone_flag == true) {\r\n                        Util_1.default.trace(\"有炮台了，正在添加以下点：\");\r\n                        Util_1.default.trace(piece_col[index]);\r\n                        shellable_points_in_this_column.push(piece_col[index]);\r\n                        break; //只加一个点进去就结束了\r\n                    }\r\n                    // 没有炮台，这就是炮台\r\n                    else if (!cornerstone_flag) {\r\n                        cornerstone_flag = true; // the index is not added, but the next that has a piece is.\\\r\n                        Util_1.default.trace(\"之前无炮台，现在有炮台了。\");\r\n                        console.log(cornerstone_flag);\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return shellable_points_in_this_column;\r\n    };\r\n    //returns the grids that General can go in a column\r\n    Cannon.prototype.checkColumn = function () {\r\n        Util_1.default.trace(\"in checkColumn()\");\r\n        Util_1.default.trace(\"Cannon\");\r\n        var Y_coor = this.point.y_coor;\r\n        // let X_coor = this.point.x_coor\r\n        var piece_col = this.board.getColFromXCoordinate(this.point.x_coor); //Checks the points in this column\r\n        // let piece_row = this.board.getRowFromYCoordinate(this.point.y_coor);//Checks the points in this row\r\n        var start_flag = 0; //row 1\r\n        var end_flag = 9; //row 10 \r\n        //trasversing the column (Point [])\r\n        for (var index in piece_col) {\r\n            Util_1.default.trace('piece_col:');\r\n            Util_1.default.trace(piece_col);\r\n            //if the piece in that point is not null, do some checking\r\n            if (piece_col[index].piece != null) {\r\n                Util_1.default.trace(\"有棋子\");\r\n                //checks the indices that are smaller than the point\r\n                // 这颗待处理棋子在上方\r\n                if (parseInt(index) < Y_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_col[index].piece.color == ChessPiece_1.PlayerColor.BLACK) {\r\n                        Util_1.default.trace(\"队友在上方\");\r\n                        start_flag = parseInt(index) + 1; // the index is not added, but the next one is.\r\n                    }\r\n                    else if (piece_col[index].piece.color != ChessPiece_1.PlayerColor.BLACK) {\r\n                        start_flag = parseInt(index);\r\n                        console.log(\"debugging...........................\");\r\n                        console.log(start_flag);\r\n                    }\r\n                    if (start_flag === Y_coor - 1) // if a friendly piece is blocking right abovbe it\r\n                        start_flag = Y_coor; // start_flag is set to the next row \r\n                    // Log.trace(\"start_flag:\" + start_flag)\r\n                }\r\n                //checks those larger than that point\r\n                // 这颗待处理棋子在下方\r\n                else if (parseInt(index) > Y_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_col[index].piece.color == ChessPiece_1.PlayerColor.BLACK)\r\n                        end_flag = parseInt(index) - 1; // the index is not added, but the last one is.\r\n                    // 是敌方棋子的话：\r\n                    else if (piece_col[index].piece.color != ChessPiece_1.PlayerColor.BLACK)\r\n                        end_flag = parseInt(index);\r\n                    if (end_flag === Y_coor - 1) // if a friendly piece is blocking right below it\r\n                        end_flag = Y_coor - 2; // start_flag is set to the next row \r\n                    // Log.trace(\"end_flag:\" + end_flag)\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // an array to store all the movable points in a column\r\n        var movable_points_in_this_column = [];\r\n        for (var i = start_flag; i <= end_flag; i++) {\r\n            //If the coordinate is the one that piece is in\r\n            //It does not push it into the array.\r\n            if (Y_coor - 1 === i) {\r\n                // Log.trace('skip');\r\n                continue;\r\n            }\r\n            movable_points_in_this_column.push(piece_col[i]);\r\n        }\r\n        console.log(movable_points_in_this_column);\r\n        return movable_points_in_this_column;\r\n        // console.log(this.board.getColFromXCoordinate(X_coor));\r\n    };\r\n    //returns the grids that the General can go in a row\r\n    Cannon.prototype.checkRow = function () {\r\n        Util_1.default.trace(\"in checkRows()\");\r\n        // let Y_coor = this.point.y_coor\r\n        var X_coor = this.point.x_coor;\r\n        // let piece_col = this.board.getColFromXCoordinate(this.point.x_coor); //Checks the points in this column\r\n        var piece_row = this.board.getRowFromYCoordinate(this.point.y_coor); //Checks the points in this row\r\n        var start_flag = 0;\r\n        var end_flag = 8;\r\n        //trasversing the column (Point [])\r\n        //遍历横行\r\n        for (var index in piece_row) {\r\n            //if the piece in that point is not null, do some checking\r\n            //发现该点内有棋子，判断是敌是友\r\n            if (piece_row[index].piece != null) {\r\n                Util_1.default.trace(\"有棋子\");\r\n                Util_1.default.trace(piece_row);\r\n                //checks the indices that are smaller than the point\r\n                // 该枚车的左边\r\n                if (parseInt(index) < X_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_row[index].getPiece().isFriendly()) {\r\n                        console.log(\"---------------------------------debug-----------------------------\");\r\n                        start_flag = parseInt(index) + 1; // the index is not added, but the next one is.\r\n                    }\r\n                    else\r\n                        start_flag = parseInt(index);\r\n                    if (start_flag === X_coor - 1) // if a friendly piece is blocking immediately left to it\r\n                        start_flag = X_coor; // start_flag is set to the next row \r\n                    Util_1.default.trace(\"start_flag:\" + start_flag);\r\n                }\r\n                //checks those larger than that point\r\n                // 检查该车的右边\r\n                else if (parseInt(index) > X_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_row[index].getPiece().isFriendly())\r\n                        end_flag = parseInt(index) - 1; // Friendly blocking: the index is not added, but the previous one is.\r\n                    else\r\n                        end_flag = parseInt(index);\r\n                    if (end_flag === X_coor - 1) // if a friendly piece is blocking right below it\r\n                        end_flag = X_coor - 2; // start_flag is set to the next row \r\n                    Util_1.default.trace(\"end_flag:\" + end_flag);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // an array to store all the movable points in a column\r\n        var movable_points_in_this_row = [];\r\n        for (var i = start_flag; i <= end_flag; i++) {\r\n            //If the coordinate is the one that piece is in\r\n            //It does not push it into the array.\r\n            if (X_coor - 1 === i) {\r\n                continue;\r\n            }\r\n            movable_points_in_this_row.push(piece_row[i]);\r\n        }\r\n        console.log(movable_points_in_this_row);\r\n        return movable_points_in_this_row;\r\n    };\r\n    return Cannon;\r\n}(ChessPiece_1.Piece));\r\nvar BlackCannon = /** @class */ (function (_super) {\r\n    __extends(BlackCannon, _super);\r\n    function BlackCannon(board, point) {\r\n        var _this = _super.call(this, point, board, ChessPiece_1.PlayerColor.BLACK) || this;\r\n        _this.elem.src = '../img/pieces/black-pao.png';\r\n        _this.board = board;\r\n        _this.point.setPiece(_this); //sets the piece to the point.\r\n        $(_this.elem).on('click', function () {\r\n            _super.prototype.movablePoints.call(_this);\r\n        });\r\n        return _this;\r\n    }\r\n    return BlackCannon;\r\n}(Cannon));\r\nexports.BlackCannon = BlackCannon;\r\nvar RedCannon = /** @class */ (function (_super) {\r\n    __extends(RedCannon, _super);\r\n    function RedCannon(board, point) {\r\n        var _this = _super.call(this, point, board, ChessPiece_1.PlayerColor.RED) || this;\r\n        _this.elem.src = '../img/pieces/red-pao.png';\r\n        _this.board = board;\r\n        _this.point.setPiece(_this); //sets the piece to the point.\r\n        $(_this.elem).on('click', function () {\r\n            _super.prototype.movablePoints.call(_this);\r\n        });\r\n        return _this;\r\n    }\r\n    return RedCannon;\r\n}(Cannon));\r\nexports.RedCannon = RedCannon;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BlackChariot = exports.RedChariot = void 0;\r\nvar Util_1 = __importDefault(require(\"../../src/Util\"));\r\nvar ChessPiece_1 = require(\"./ChessPiece\");\r\nvar Chariot = /** @class */ (function (_super) {\r\n    __extends(Chariot, _super);\r\n    function Chariot(point, board, color) {\r\n        return _super.call(this, point, board, ChessPiece_1.PieceRole.General, color) || this;\r\n    }\r\n    Chariot.prototype.canMove = function (dest) {\r\n        var x = dest.x_coor;\r\n        var y = dest.y_coor;\r\n        //If the dest is not inside of the \"田\" shaped space of the board\r\n        //Returns false.\r\n        if (!this.isValidChariotPosition(x, y))\r\n            return false;\r\n        //If the place is outside of reach from the General,\r\n        //It returns false.\r\n        if (Math.abs(x - this.point.x_coor) > 1 || Math.abs(y - this.point.y_coor) > 1)\r\n            return false;\r\n        // We will add more logic for checking valid move later\r\n        // Current check is only for a valid position and no same side piece\r\n        return !_super.prototype.checkSameColorPieceInPoint.call(this, dest);\r\n    };\r\n    return Chariot;\r\n}(ChessPiece_1.Piece));\r\nvar RedChariot = /** @class */ (function (_super) {\r\n    __extends(RedChariot, _super);\r\n    function RedChariot(board, point) {\r\n        var _this = _super.call(this, point, board, ChessPiece_1.PlayerColor.RED) || this;\r\n        _this.elem.src = '../img/pieces/red-ju.png';\r\n        _this.board = board;\r\n        _this.point.setPiece(_this); //sets the piece to the point.\r\n        $(_this.elem).on('click', function () {\r\n            // Log.trace(\"invoked this.checkColumns()\")\r\n            // Log.trace(this.checkColumn())\r\n            // Log.trace(this.checkRow())\r\n            _this.movablePoints();\r\n        });\r\n        return _this;\r\n    }\r\n    RedChariot.prototype.movablePoints = function () {\r\n        // Log.trace('inside this.movablePoints()')\r\n        var moveable_points = [];\r\n        // moveable_points.length = 0;\r\n        moveable_points = moveable_points.concat(this.checkRow());\r\n        moveable_points = moveable_points.concat(this.checkColumn());\r\n        // Log.trace('moveable_points is empty here !!!!')\r\n        // Log.trace(moveable_points)\r\n        return moveable_points;\r\n    };\r\n    //returns the grids that General can go in a column\r\n    RedChariot.prototype.checkColumn = function () {\r\n        Util_1.default.trace(\"in checkColumns\");\r\n        var Y_coor = this.point.y_coor;\r\n        var X_coor = this.point.x_coor;\r\n        var piece_col = this.board.getColFromXCoordinate(this.point.x_coor); //Checks the points in this column\r\n        var piece_row = this.board.getRowFromYCoordinate(this.point.y_coor); //Checks the points in this row\r\n        var start_flag = 0; //row 1\r\n        var end_flag = 9; //row 10 \r\n        //trasversing the column (Point [])\r\n        for (var index in piece_col) {\r\n            //if the piece in that point is not null, do some checking\r\n            if (piece_col[index].piece != null) {\r\n                //checks the indices that are smaller than the point\r\n                if (parseInt(index) < Y_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_col[index].piece.color == ChessPiece_1.PlayerColor.RED)\r\n                        start_flag = parseInt(index) + 1; // the index is not added, but the next one is.\r\n                    else\r\n                        start_flag = parseInt(index);\r\n                    if (start_flag === Y_coor - 1) // if a friendly piece is blocking right abovbe it\r\n                        start_flag = Y_coor; // start_flag is set to the next row \r\n                    // Log.trace(\"start_flag:\" + start_flag)\r\n                }\r\n                //checks those larger than that point\r\n                else if (parseInt(index) > Y_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_col[index].piece.color == ChessPiece_1.PlayerColor.RED)\r\n                        end_flag = parseInt(index) - 1; // the index is not added, but the last one is.\r\n                    else\r\n                        end_flag = parseInt(index);\r\n                    if (end_flag === Y_coor - 1) // if a friendly piece is blocking right below it\r\n                        end_flag = Y_coor - 2; // start_flag is set to the next row \r\n                    // Log.trace(\"end_flag:\" + end_flag)\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // an array to store all the movable points in a column\r\n        var movable_points_in_this_column = [];\r\n        for (var i = start_flag; i <= end_flag; i++) {\r\n            //If the coordinate is the one that piece is in\r\n            //It does not push it into the array.\r\n            if (Y_coor - 1 === i) {\r\n                // Log.trace('skip');\r\n                continue;\r\n            }\r\n            movable_points_in_this_column.push(piece_col[i]);\r\n        }\r\n        return movable_points_in_this_column;\r\n        // console.log(this.board.getColFromXCoordinate(X_coor));\r\n    };\r\n    //returns the grids that the General can go in a row\r\n    RedChariot.prototype.checkRow = function () {\r\n        Util_1.default.trace(\"in checkRows()\");\r\n        // let Y_coor = this.point.y_coor\r\n        var X_coor = this.point.x_coor;\r\n        // let piece_col = this.board.getColFromXCoordinate(this.point.x_coor); //Checks the points in this column\r\n        var piece_row = this.board.getRowFromYCoordinate(this.point.y_coor); //Checks the points in this row\r\n        var start_flag = 0;\r\n        var end_flag = 8;\r\n        //trasversing the column (Point [])\r\n        for (var index in piece_row) {\r\n            //if the piece in that point is not null, do some checking\r\n            // 判定敌友\r\n            if (piece_row[index].piece != null) {\r\n                //checks the indices that are smaller than the point\r\n                // 车的左边\r\n                if (parseInt(index) < X_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_row[index].piece.color == ChessPiece_1.PlayerColor.RED)\r\n                        start_flag = parseInt(index) + 1; // the index is not added, but the next one is.\r\n                    else\r\n                        start_flag = parseInt(index);\r\n                    if (start_flag === X_coor - 1) // if a friendly piece is blocking right above it\r\n                        start_flag = X_coor; // start_flag is set to the next row \r\n                    Util_1.default.trace(\"start_flag:\" + start_flag);\r\n                }\r\n                //checks those larger than that point\r\n                else if (parseInt(index) > X_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_row[index].piece.color == ChessPiece_1.PlayerColor.RED)\r\n                        end_flag = parseInt(index) - 1; // the index is not added, but the last one is.\r\n                    else\r\n                        end_flag = parseInt(index);\r\n                    if (end_flag === X_coor - 1) // if a friendly piece is blocking right below it\r\n                        end_flag = X_coor - 2; // start_flag is set to the next row \r\n                    Util_1.default.trace(\"end_flag:\" + end_flag);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // an array to store all the movable points in a column\r\n        var movable_points_in_this_row = [];\r\n        for (var i = start_flag; i <= end_flag; i++) {\r\n            //If the coordinate is the one that piece is in\r\n            //It does not push it into the array.\r\n            if (X_coor - 1 === i) {\r\n                // Log.trace('skip');\r\n                continue;\r\n            }\r\n            movable_points_in_this_row.push(piece_row[i]);\r\n        }\r\n        return movable_points_in_this_row;\r\n    };\r\n    RedChariot.prototype.isValidChariotPosition = function (x, y) {\r\n        return (y >= 8) && (y <= 10) && (x >= 4) && (x <= 6);\r\n        // && !(x > 0 && y > 0);\r\n    };\r\n    return RedChariot;\r\n}(Chariot));\r\nexports.RedChariot = RedChariot;\r\nvar BlackChariot = /** @class */ (function (_super) {\r\n    __extends(BlackChariot, _super);\r\n    function BlackChariot(board, point) {\r\n        var _this = _super.call(this, point, board, ChessPiece_1.PlayerColor.BLACK) || this;\r\n        _this.elem.src = '../img/pieces/black-ju.png';\r\n        _this.board = board;\r\n        _this.point.setPiece(_this); //sets the piece to the point.\r\n        $(_this.elem).on('click', function () {\r\n            // Log.trace(\"invoked this.checkColumns()\")\r\n            // Log.trace(this.checkColumn())\r\n            // Log.trace(this.checkRow())\r\n            _this.movablePoints();\r\n        });\r\n        return _this;\r\n    }\r\n    BlackChariot.prototype.movablePoints = function () {\r\n        // Log.trace('inside this.movablePoints()')\r\n        var moveable_points = [];\r\n        // moveable_points.length = 0;\r\n        moveable_points = moveable_points.concat(this.checkRow());\r\n        moveable_points = moveable_points.concat(this.checkColumn());\r\n        // Log.trace('moveable_points is empty here !!!!')\r\n        // Log.trace(moveable_points)\r\n        return moveable_points;\r\n    };\r\n    //returns the grids that General can go in a column\r\n    BlackChariot.prototype.checkColumn = function () {\r\n        Util_1.default.trace(\"in checkColumns\");\r\n        Util_1.default.trace(\"Chariots\");\r\n        var Y_coor = this.point.y_coor;\r\n        // let X_coor = this.point.x_coor\r\n        var piece_col = this.board.getColFromXCoordinate(this.point.x_coor); //Checks the points in this column\r\n        // let piece_row = this.board.getRowFromYCoordinate(this.point.y_coor);//Checks the points in this row\r\n        var start_flag = 0; //row 1\r\n        var end_flag = 9; //row 10 \r\n        //trasversing the column (Point [])\r\n        for (var index in piece_col) {\r\n            Util_1.default.trace('piece_col:');\r\n            Util_1.default.trace(piece_col);\r\n            //if the piece in that point is not null, do some checking\r\n            if (piece_col[index].piece != null) {\r\n                Util_1.default.trace(\"有棋子\");\r\n                //checks the indices that are smaller than the point\r\n                // 这颗待处理棋子在上方\r\n                if (parseInt(index) < Y_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_col[index].piece.color == ChessPiece_1.PlayerColor.BLACK) {\r\n                        Util_1.default.trace(\"队友在上方\");\r\n                        start_flag = parseInt(index) + 1; // the index is not added, but the next one is.\r\n                    }\r\n                    else if (piece_col[index].piece.color != ChessPiece_1.PlayerColor.BLACK) {\r\n                        start_flag = parseInt(index);\r\n                        console.log(\"debugging...........................\");\r\n                        console.log(start_flag);\r\n                    }\r\n                    if (start_flag === Y_coor - 1) // if a friendly piece is blocking right abovbe it\r\n                        start_flag = Y_coor; // start_flag is set to the next row \r\n                    // Log.trace(\"start_flag:\" + start_flag)\r\n                }\r\n                //checks those larger than that point\r\n                // 这颗待处理棋子在下方\r\n                else if (parseInt(index) > Y_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_col[index].piece.color == ChessPiece_1.PlayerColor.BLACK)\r\n                        end_flag = parseInt(index) - 1; // the index is not added, but the last one is.\r\n                    // 是敌方棋子的话：\r\n                    else if (piece_col[index].piece.color != ChessPiece_1.PlayerColor.BLACK)\r\n                        end_flag = parseInt(index);\r\n                    if (end_flag === Y_coor - 1) // if a friendly piece is blocking right below it\r\n                        end_flag = Y_coor - 2; // start_flag is set to the next row \r\n                    // Log.trace(\"end_flag:\" + end_flag)\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // an array to store all the movable points in a column\r\n        var movable_points_in_this_column = [];\r\n        for (var i = start_flag; i <= end_flag; i++) {\r\n            //If the coordinate is the one that piece is in\r\n            //It does not push it into the array.\r\n            if (Y_coor - 1 === i) {\r\n                // Log.trace('skip');\r\n                continue;\r\n            }\r\n            movable_points_in_this_column.push(piece_col[i]);\r\n        }\r\n        console.log(movable_points_in_this_column);\r\n        return movable_points_in_this_column;\r\n        // console.log(this.board.getColFromXCoordinate(X_coor));\r\n    };\r\n    //returns the grids that the General can go in a row\r\n    BlackChariot.prototype.checkRow = function () {\r\n        Util_1.default.trace(\"in checkRows()\");\r\n        // let Y_coor = this.point.y_coor\r\n        var X_coor = this.point.x_coor;\r\n        // let piece_col = this.board.getColFromXCoordinate(this.point.x_coor); //Checks the points in this column\r\n        var piece_row = this.board.getRowFromYCoordinate(this.point.y_coor); //Checks the points in this row\r\n        var start_flag = 0;\r\n        var end_flag = 8;\r\n        //trasversing the column (Point [])\r\n        //遍历横行\r\n        for (var index in piece_row) {\r\n            //if the piece in that point is not null, do some checking\r\n            //发现该点内有棋子，判断是敌是友\r\n            if (piece_row[index].piece != null) {\r\n                Util_1.default.trace(\"有棋子\");\r\n                Util_1.default.trace(piece_row);\r\n                //checks the indices that are smaller than the point\r\n                // 该枚车的左边\r\n                if (parseInt(index) < X_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_row[index].getPiece().isFriendly()) {\r\n                        console.log(\"---------------------------------debug-----------------------------\");\r\n                        start_flag = parseInt(index) + 1; // the index is not added, but the next one is.\r\n                    }\r\n                    else\r\n                        start_flag = parseInt(index);\r\n                    if (start_flag === X_coor - 1) // if a friendly piece is blocking immediately left to it\r\n                        start_flag = X_coor; // start_flag is set to the next row \r\n                    Util_1.default.trace(\"start_flag:\" + start_flag);\r\n                }\r\n                //checks those larger than that point\r\n                // 检查该车的右边\r\n                else if (parseInt(index) > X_coor - 1) {\r\n                    //if the point holds a friendly piece:\r\n                    if (piece_row[index].getPiece().isFriendly())\r\n                        end_flag = parseInt(index) - 1; // Friendly blocking: the index is not added, but the previous one is.\r\n                    else\r\n                        end_flag = parseInt(index);\r\n                    if (end_flag === X_coor - 1) // if a friendly piece is blocking right below it\r\n                        end_flag = X_coor - 2; // start_flag is set to the next row \r\n                    Util_1.default.trace(\"end_flag:\" + end_flag);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // an array to store all the movable points in a column\r\n        var movable_points_in_this_row = [];\r\n        for (var i = start_flag; i <= end_flag; i++) {\r\n            //If the coordinate is the one that piece is in\r\n            //It does not push it into the array.\r\n            if (X_coor - 1 === i) {\r\n                continue;\r\n            }\r\n            movable_points_in_this_row.push(piece_row[i]);\r\n        }\r\n        console.log(movable_points_in_this_row);\r\n        return movable_points_in_this_row;\r\n    };\r\n    BlackChariot.prototype.isValidChariotPosition = function (x, y) {\r\n        return (y >= 0) && (y <= 10) && (x >= 0) && (x <= 9);\r\n        // && !(x > 0 && y > 0);\r\n    };\r\n    return BlackChariot;\r\n}(Chariot));\r\nexports.BlackChariot = BlackChariot;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PlayerColor = exports.PieceRole = exports.Piece = void 0;\r\nvar Util_1 = __importDefault(require(\"../../src/Util\"));\r\nvar frontend_utils_1 = require(\"./frontend-utils\");\r\nObject.defineProperty(exports, \"PlayerColor\", { enumerable: true, get: function () { return frontend_utils_1.PlayerColor; } });\r\n// used in class Piece\r\n// 棋子颜色\r\n// enum PlayerColor {\r\n//     'BLACK',\r\n//     'RED'\r\n// }\r\n// used in class Game, \r\n// 玩家颜色\r\n// enum PlayerColor {\r\n//     'BLACK',\r\n//     'RED'\r\n// }\r\n// 棋子类型\r\nvar PieceRole;\r\n(function (PieceRole) {\r\n    PieceRole[PieceRole[\"General\"] = 0] = \"General\";\r\n    PieceRole[PieceRole[\"Advisor\"] = 1] = \"Advisor\";\r\n    PieceRole[PieceRole[\"Elephant\"] = 2] = \"Elephant\";\r\n    PieceRole[PieceRole[\"Chariot\"] = 3] = \"Chariot\";\r\n    PieceRole[PieceRole[\"Horse\"] = 4] = \"Horse\";\r\n    PieceRole[PieceRole[\"Cannon\"] = 5] = \"Cannon\";\r\n    PieceRole[PieceRole[\"Soldier\"] = 6] = \"Soldier\";\r\n})(PieceRole || (PieceRole = {}));\r\nexports.PieceRole = PieceRole;\r\nvar Piece = /** @class */ (function () {\r\n    function Piece(point, board, role, color) {\r\n        // 与移动相关      \r\n        this.point = point; // 被置于某个点\r\n        // this.has_moved = false;                           // 是否已经被移动\r\n        this.active = false; // 是否被选中\r\n        // 与棋子属性相关\r\n        this.board = board;\r\n        this.piece_role = role;\r\n        this.color = color;\r\n        this.elem = document.createElement(\"img\");\r\n        // 与棋子大小有关\r\n        this.ratio = 100; // TODO:放大倍率 ?\r\n        this.side_length = this.ratio * 0.01 * frontend_utils_1.SIDE_LENGTH; // 棋子的边长\r\n        // 0 -> not selected\r\n        // 1 -> selected, not moved\r\n        // 2 -> moved, refesh state to 0\r\n        this.state = 0;\r\n        $(window).on('mousedown', function (e) {\r\n            e.preventDefault(); //get rid of non-game experience (selecting pictures and stuff)\r\n        });\r\n        $(window).on('change', function (e) {\r\n            e.preventDefault(); //get rid of non-game experience (selecting pictures and stuff)\r\n            console.log('changed');\r\n        });\r\n        // 运行这个，就会把所有的Listener都加上\r\n        this.listenerManager();\r\n    }\r\n    Piece.prototype.listenerManager = function () {\r\n        this.attachSelectPieceListener();\r\n        // this.attachMoveToGridListener()\r\n        // this.removeMoveToGridListener()\r\n    };\r\n    /**\r\n     *  I. When the player clicks on a piece,\r\n     *  The listener invokes the method to determine movable grids,\r\n     *  then it highlights all the grids\r\n     */\r\n    Piece.prototype.attachSelectPieceListener = function () {\r\n        var _this = this;\r\n        console.log(\"attachSelectPieceListener, check active:\");\r\n        console.log(this.board.active_piece);\r\n        // TODO：需要写一个逻辑，判断是否之前已经点过一个棋子\r\n        // 点击了棋子的img之后\r\n        $(this.elem).on('click', function (e) {\r\n            if (_this.board.active_piece) {\r\n                console.log(\"其他棋子还没走呢！\");\r\n            }\r\n            else {\r\n                console.log(\"其他棋子走过了\");\r\n                console.log('点击了棋子：');\r\n                console.log(_this.elem);\r\n                e.preventDefault();\r\n                // 1. clearing all the colored background first:\r\n                $('.className_grid_div').css('background', 'rgba(3, 181, 252,0.0)');\r\n                // 2. put all the movalbe positions into an array\r\n                var movable_points = [];\r\n                movable_points = _this.movablePoints();\r\n                // console.log(movable_points)\r\n                // 3. highlight all the movalbe positions\r\n                // If the currentPlayer's color is the same as the piece color   \r\n                if (_this.getCurrentPlayer() == _this.color) {\r\n                    movable_points.forEach(function (point) {\r\n                        $(point.elem).css('background', 'rgba(3, 181, 252,0.5');\r\n                    });\r\n                }\r\n                // 设置自己被选中，告知棋盘选中的是自己\r\n                _this.active = true;\r\n                _this.board.active_piece = _this;\r\n                // TODO:找到ListenerManager的问题所在，并且把这个移动到那里面。\r\n                // 下一步是Move To Grid\r\n                setTimeout(function () {\r\n                    _this.attachMoveToGridListener();\r\n                }, 100);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     *  The user has selected a piece in step I.\r\n     *\r\n     *  II. once the user has selected the piece,\r\n     *  a listener is attached to the grid to check\r\n     *  which grid the user is moving to\r\n     *\r\n     *\r\n     *  在I中玩家已经选择了棋子\r\n     *\r\n     *  II.\r\n     *  在用attachSelectPieceListener()选择了棋子之后,\r\n     *  再用attachMoveToGridListener() 选择移动到哪个格子\r\n     */\r\n    Piece.prototype.attachMoveToGridListener = function () {\r\n        var _this = this;\r\n        console.log(this.point);\r\n        //1. attach another listener which listens to the next click:\r\n        $('.className_grid_div').on('click', function (e) {\r\n            console.log(\"点击了棋子:\");\r\n            console.log(e.target);\r\n            console.log(e.target.tagName);\r\n            console.log(\"\\u68CB\\u5B50\\u6240\\u5728\\u7684\\u683C\\u5B50:\");\r\n            console.log(e.target.parentNode);\r\n            console.log(e.target.parentElement);\r\n            // ① if the piece is selected, then go on and see if the grid is moveable\r\n            // ① 如果已经选择了某个棋子，判断是否能够走\r\n            if (_this.board.active_piece && // Condition #1 : 选中了棋子\r\n                _this.board.game.getCurrentPlayer() == _this.color) { // Condition #2 : 是当前玩家走\r\n                console.log('the piece is selected?' + _this.active);\r\n                console.log(\"active piece:\");\r\n                console.log(_this.board.active_piece);\r\n                console.log(_this.board.target_coordinate);\r\n                // 如果点击的是棋子，而不是空的格子\r\n                // 判断条件：HTML元素是IMG而不是DIV\r\n                if ((e.target.tagName).toUpperCase() == 'IMG') {\r\n                    console.log(\"点击了另一个棋子\");\r\n                    var parentNode = e.target.parentElement;\r\n                    if (parentNode != null) {\r\n                        console.log(\"棋子所在的格子：\");\r\n                        console.log(parentNode);\r\n                        // 记录下一步要走的坐标\r\n                        _this.board.target_coordinate = _this.board.getCoordinateFromElemId(parentNode.id);\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(\"点击了一个空的格子\");\r\n                    _this.board.target_coordinate = _this.board.getCoordinateFromElemId(e.target.id);\r\n                }\r\n                console.log(_this.board.getPointFromCoordinates(_this.board.target_coordinate[0], _this.board.target_coordinate[1]));\r\n                // ①.a 如果不是 [-1, -1], 说明玩家选择了某个格子\r\n                if (_this.board.target_coordinate[0] != -1 && _this.board.target_coordinate[1] != -1) {\r\n                    // 增加一个判断条件，看这个位置是否有棋子\r\n                    // TODO: check if the point's 'piece' key is available at all?\r\n                    if (_this.board.getPointFromCoordinates(_this.board.target_coordinate[0], _this.board.target_coordinate[1]).hasPiece()) {\r\n                        console.log(\"该点有棋子\");\r\n                        console.log(\"=========================== debug =================================\");\r\n                        console.log(_this.isFriendly(_this.board.getPointFromCoordinates(_this.board.target_coordinate[0], _this.board.target_coordinate[1]).getPiece()));\r\n                        // 棋子是自己人的\r\n                        // 那么选中的棋子则换为该棋子\r\n                        if (_this.isFriendly(_this.board.getPointFromCoordinates(_this.board.target_coordinate[0], _this.board.target_coordinate[1]).getPiece())) {\r\n                            alert(\"You Can't Move Here, A Friendly Piece is at this Position\");\r\n                            _this.removeMoveToGridListener();\r\n                            return; //直接结束\r\n                        }\r\n                        // 不是自己人的，要提子\r\n                        // TODO:增加提子逻辑\r\n                        else if (!_this.isFriendly(_this.board.getPointFromCoordinates(_this.board.target_coordinate[0], _this.board.target_coordinate[1]).getPiece())) {\r\n                            // alert(\"正在提子\")\r\n                            // 目标Point中移除piece\r\n                            delete _this.board.getPointFromCoordinates(_this.board.target_coordinate[0], _this.board.target_coordinate[1]).piece;\r\n                            console.log(\"=========  debug ===========\");\r\n                            console.log(_this.board.getPointFromCoordinates(_this.board.target_coordinate[0], _this.board.target_coordinate[1]));\r\n                            // 目标Point.elem 移除 HTML元素\r\n                            _this.board.getPointFromCoordinates(_this.board.target_coordinate[0], _this.board.target_coordinate[1]).elem.innerHTML = '';\r\n                        }\r\n                        else {\r\n                            // 目标Point中移除piece\r\n                            delete _this.board.getPointFromCoordinates(_this.board.target_coordinate[0], _this.board.target_coordinate[1]).piece;\r\n                            console.log(\"=========  debug ===========\");\r\n                            console.log(_this.board.getPointFromCoordinates(_this.board.target_coordinate[0], _this.board.target_coordinate[1]));\r\n                            // 目标Point.elem 移除 HTML元素\r\n                            _this.board.getPointFromCoordinates(_this.board.target_coordinate[0], _this.board.target_coordinate[1]).elem.innerHTML = '';\r\n                        }\r\n                    }\r\n                    // \r\n                    else {\r\n                        _this.board.getPointFromCoordinates(_this.board.target_coordinate[0], _this.board.target_coordinate[1]).elem.innerHTML = '';\r\n                    }\r\n                    console.log(_this.board.target_coordinate);\r\n                    var next_x_coor = _this.board.target_coordinate[0];\r\n                    var next_y_coor = _this.board.target_coordinate[1];\r\n                    // 棋子属性、Element移动到目标点, 详见moveToPoint\r\n                    _this.board.active_piece.moveToPoint(_this.board.getPointFromCoordinates(next_x_coor, next_y_coor));\r\n                    $('.className_grid_div').css('background', 'rgba(0,0,0,0.0)'); // setting back the background to non-colored and transparent\r\n                    _this.board.target_coordinate = [-1, -1]; // 重新归[-1, -1]\r\n                    _this.active = false; // 棋子状态为不再选中\r\n                    // TODO >>>>>  Remove if not needed anymore <<<<<<<<<\r\n                    // console.log('the piece is selected?' + this.active);\r\n                    // console.log(`active piece:`);\r\n                    // console.log(this.board.active_piece);\r\n                    // console.log(this.board.target_coordinate )\r\n                    _this.board.game.alternatePlayer(); // 切换到下一个玩家\r\n                }\r\n            }\r\n            // ② 还没有选中棋子\r\n            else {\r\n                console.log(\"还没有选择棋子......\");\r\n                console.log('Is the piece is selected? ' + _this.active);\r\n                console.log('Doing nothing...');\r\n                $('.className_grid_div').css('background', 'rgba(0,0,0,0.0)'); // setting back the background to non-colored and transparent\r\n            }\r\n            _this.removeMoveToGridListener();\r\n            // $('.className_grid_div').unbind('click');  // HACK after clicking, we need to get rid of the listener\r\n            // $('.className_grid_div').css('background', 'rgba(0,0,0,0.0)') // setting back the background to non-colored and transparent\r\n        });\r\n    };\r\n    //upon finishing the listener, it removes the listener from the grid\r\n    Piece.prototype.removeMoveToGridListener = function () {\r\n        this.board.active_piece = null;\r\n        //4. remove the click listener from the grids\r\n        console.log('已经点击了移动目标格,现在移除MoveToGridListener');\r\n        $('.className_grid_div').off('click'); // after clicking, we need to get rid of the listener\r\n        $('.className_grid_div').css('background', 'rgba(0,0,0,0.0)'); // setting back the background to non-colored and transparent\r\n    };\r\n    Piece.prototype.movablePoints = function () {\r\n        Util_1.default.trace('movable points of a piece');\r\n        return [];\r\n    };\r\n    Piece.prototype.getElement = function () {\r\n        return this.elem;\r\n    };\r\n    //sets the point of the piece\r\n    Piece.prototype.moveToPoint = function (point) {\r\n        // 删除原来的元素\r\n        this.board.intersections[this.point.x_coor - 1][this.point.y_coor - 1].elem.removeChild(this.elem);\r\n        delete this.board.intersections[this.point.x_coor - 1][this.point.y_coor - 1].piece;\r\n        // console.log(\"===================== debug ==============================\");\r\n        // console.log(this.board.intersections[this.point.x_coor - 1][this.point.y_coor - 1])\r\n        // 更换到新的点\r\n        this.point = point;\r\n        this.board.intersections[this.point.x_coor - 1][this.point.y_coor - 1].elem.appendChild(this.elem);\r\n        this.board.intersections[this.point.x_coor - 1][this.point.y_coor - 1].piece = this;\r\n        console.log(this.board.intersections);\r\n        console.log(this.point);\r\n        console.log(this.point.x_coor);\r\n        console.log(this.point.y_coor);\r\n    };\r\n    // ========= Getter & Setters =========================================\r\n    /**\r\n     * 获取棋子的类型\r\n     * Get Piece Role\r\n     */\r\n    Piece.prototype.getRole = function () {\r\n        return this.piece_role;\r\n    };\r\n    /**\r\n     * 获取棋子的颜色\r\n     * Get Piece Color\r\n     */\r\n    Piece.prototype.getColor = function () {\r\n        return this.color;\r\n    };\r\n    Piece.prototype.getCurrentPlayer = function () {\r\n        return this.board.game.getCurrentPlayer();\r\n    };\r\n    // \r\n    // ------------------ 下一目标点 ------------------------\r\n    // 目标点的坐标\r\n    Piece.prototype.getTargetPointCoordinate = function () {\r\n        return this.board.target_coordinate;\r\n    };\r\n    // 获得目标点的 X 坐标\r\n    Piece.prototype.getTargetPointXCoordinate = function () {\r\n        return this.board.target_coordinate[0];\r\n    };\r\n    // 获得目标点的 Y 坐标\r\n    Piece.prototype.getTargetPointYCoordinate = function () {\r\n        return this.board.target_coordinate[1];\r\n    };\r\n    /**\r\n     * @param point Check if a point has a piece with the same side\r\n     *\r\n     */\r\n    Piece.prototype.checkSameColorPieceInPoint = function (point) {\r\n        var piece = point.getPiece();\r\n        if (!piece) {\r\n            return false;\r\n        }\r\n        return piece.getColor() === this.color;\r\n    };\r\n    /**\r\n    * @param point Check if a point has a piece with the same side\r\n    */\r\n    Piece.prototype.isFriendly = function (piece) {\r\n        // console.log(piece)\r\n        try {\r\n            if (!piece) {\r\n                console.log(\"没有棋子！\");\r\n            }\r\n            // FIXME：PROBLEM\r\n            return piece.getColor() === this.color;\r\n        }\r\n        catch (e) {\r\n            console.log(\"没有棋子！\");\r\n        }\r\n        return true;\r\n    };\r\n    Piece.prototype.isEnemy = function (piece) {\r\n        if (!piece) {\r\n            return false;\r\n        }\r\n        return piece.getColor() != this.color;\r\n    };\r\n    // 渲染HTML Elements.\r\n    // Render the html elements to the webpage.\r\n    Piece.prototype.render = function () {\r\n        this.board.intersections[this.point.x_coor - 1][this.point.y_coor - 1].elem.append(this.elem); // encapsulates the next line of code;\r\n        $(this.elem).addClass('pieces');\r\n        //add className for the HTML <img> of the piece - PieceRole\r\n        $(this.elem).addClass(PieceRole[this.piece_role].toString());\r\n        //add className for the HTML <img> of the piece - PieceColor\r\n        $(this.elem).addClass(frontend_utils_1.PlayerColor[this.color].toString());\r\n        // $(window).on('resize',Piece.adjustResize);\r\n        // $(this.elem)\r\n        //     .on('mousedown',function () {\r\n        //         isDragging = false;\r\n        //         console.log(isDragging)\r\n        //     })\r\n        //     .on('mousemove',function () {\r\n        //         isDragging = true;\r\n        //         console.log(isDragging)\r\n        //     })\r\n        //     .on('mouseup',function () {\r\n        //         var wasDragging = isDragging;\r\n        //         isDragging = false;\r\n        //         console.log(isDragging)\r\n        //         if (!wasDragging) {\r\n        //             console.log('dragging')\r\n        //             $(\"#throbble\").toggle();\r\n        //         }\r\n        //     });\r\n        // TODO: click events:\r\n    };\r\n    // 调整棋盘、棋子的大小\r\n    Piece.adjustResize = function () {\r\n        if (screen.width == window.innerWidth) {\r\n            console.log(\"at exact 100%\");\r\n            frontend_utils_1.getChessBoardSize(); // 判断棋盘的大小\r\n            $('.className_grid_div').css('width', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100)); // 更新棋盘的宽度\r\n            $('.className_grid_div').css('height', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100)); // 更新棋盘的高度\r\n            $('.pieces').css('width', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100)); // 更新棋子的高度\r\n            $('.pieces').css('height', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100)); // 更新棋子的宽度\r\n            $(\"#board\").css(\"width\", $(\"#board\").css('height'));\r\n            $(\"#id_chessboard\").css(\"width\", $(\"#board\").css('width')); // 棋盘的宽度和高度统一 \r\n        }\r\n        else if (screen.width > window.innerWidth) {\r\n            console.log(\"you have zoomed in the page i.e more than 100%\");\r\n            frontend_utils_1.getZoomedRatio();\r\n            frontend_utils_1.getChessBoardSize();\r\n            $('.className_grid_div').css('width', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.className_grid_div').css('height', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.pieces').css('width', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.pieces').css('height', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $(\"#board\").css(\"width\", $(\"#board\").css('height'));\r\n            $(\"#id_chessboard\").css(\"width\", $(\"#board\").css('width'));\r\n        }\r\n        else {\r\n            console.log(\"you have zoomed out i.e less than 100%\");\r\n            frontend_utils_1.getZoomedRatio();\r\n            frontend_utils_1.getChessBoardSize();\r\n            var current_width = $('.className_grid_div').css('width');\r\n            $('.className_grid_div').css('width', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.className_grid_div').css('height', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.pieces').css('width', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $('.pieces').css('height', frontend_utils_1.SIDE_LENGTH * (frontend_utils_1.getZoomedRatio() / 100));\r\n            $(\"#board\").css(\"width\", $(\"#board\").css('height'));\r\n            $(\"#id_chessboard\").css(\"width\", $(\"#board\").css('width'));\r\n        }\r\n    };\r\n    return Piece;\r\n}());\r\nexports.Piece = Piece;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Game = void 0;\r\nvar Boards_1 = require(\"./Boards\");\r\nvar Chariot_1 = require(\"./Chariot\");\r\nvar frontend_utils_1 = require(\"./frontend-utils\");\r\nvar General_1 = require(\"./General\");\r\nvar Cannon_1 = require(\"./Cannon\");\r\n'./Cannon';\r\nvar Game = /** @class */ (function () {\r\n    function Game() {\r\n        this.currentPlayer = frontend_utils_1.PlayerColor.RED;\r\n        this.board = new Boards_1.Board(this);\r\n    }\r\n    // gets the public player\r\n    // 获取当前玩家\r\n    Game.prototype.getCurrentPlayer = function () {\r\n        return this.currentPlayer;\r\n    };\r\n    //Switch current player to the other player\r\n    //到另一个人下\r\n    Game.prototype.alternatePlayer = function () {\r\n        if (this.currentPlayer === frontend_utils_1.PlayerColor.RED)\r\n            this.currentPlayer = frontend_utils_1.PlayerColor.BLACK;\r\n        else\r\n            this.currentPlayer = frontend_utils_1.PlayerColor.RED;\r\n    };\r\n    Game.prototype.render = function () {\r\n        this.board.render(); // 渲染棋盘\r\n        // ============================= 棋子初始化 Initialization of ChessPieces =====================================================\r\n        //                               先横坐标后纵坐标\r\n        //                              1 2 3 4 5 6 7 8 9\r\n        //                              2\r\n        //                              3\r\n        //                              4\r\n        //                              5\r\n        //                              6\r\n        //                              7\r\n        //                              8\r\n        //                              9\r\n        //                              10\r\n        // 将/帅   Generals:\r\n        var red_shuai = new General_1.RedGeneral(this.board, this.board.getPointFromCoordinates(5, 10)); //new Point() doesn't make sense.\r\n        red_shuai.render();\r\n        var black_jiang = new General_1.BlackGeneral(this.board, this.board.getPointFromCoordinates(5, 1)); // using getPoint from coor now\r\n        black_jiang.render();\r\n        // 红车    Red Chariots\r\n        var red_ju_one = new Chariot_1.RedChariot(this.board, this.board.getPointFromCoordinates(1, 10));\r\n        var red_ju_two = new Chariot_1.RedChariot(this.board, this.board.getPointFromCoordinates(9, 10));\r\n        // let red_ju_test = new RedChariot(this.board, this.board.getPointFromCoordinates(9,3));\r\n        // let red_ju_test2 = new RedChariot(this.board, this.board.getPointFromCoordinates(9,4));\r\n        // 黑车  Black Chariots\r\n        var black_ju_one = new Chariot_1.BlackChariot(this.board, this.board.getPointFromCoordinates(1, 1));\r\n        var black_ju_two = new Chariot_1.BlackChariot(this.board, this.board.getPointFromCoordinates(9, 1));\r\n        // 红炮 RedCannons\r\n        var red_cannon_one = new Cannon_1.RedCannon(this.board, this.board.getPointFromCoordinates(8, 3));\r\n        var red_cannon_two = new Cannon_1.RedCannon(this.board, this.board.getPointFromCoordinates(8, 4));\r\n        // 黑炮 BlackCannon\r\n        var black_cannon_one = new Cannon_1.BlackCannon(this.board, this.board.getPointFromCoordinates(2, 3));\r\n        var black_cannon_two = new Cannon_1.BlackCannon(this.board, this.board.getPointFromCoordinates(2, 4));\r\n        // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 棋子初始化 Initialization of ChessPieces ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        // 红车\r\n        red_ju_one.render();\r\n        red_ju_two.render();\r\n        // 黑车\r\n        black_ju_one.render();\r\n        black_ju_two.render();\r\n        // 炮\r\n        red_cannon_one.render();\r\n        red_cannon_two.render();\r\n        black_cannon_one.render();\r\n        black_cannon_two.render();\r\n    };\r\n    return Game;\r\n}());\r\nexports.Game = Game;\r\nvar game = new Game();\r\ngame.render();\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BlackGeneral = exports.RedGeneral = void 0;\r\nvar ChessPiece_1 = require(\"./ChessPiece\");\r\nvar frontend_utils_1 = require(\"./frontend-utils\");\r\nvar General = /** @class */ (function (_super) {\r\n    __extends(General, _super);\r\n    function General(point, board, color) {\r\n        return _super.call(this, point, board, ChessPiece_1.PieceRole.General, color) || this;\r\n    }\r\n    General.prototype.canMove = function (dest) {\r\n        var x = dest.x_coor;\r\n        var y = dest.y_coor;\r\n        //If the dest is not inside of the \"田\" shaped space of the board\r\n        //Returns false.\r\n        // if (!this.isValidGeneralPosition(x, y))\r\n        //     return false;\r\n        //If the place is outside of reach from the General,\r\n        //It returns false.\r\n        if (Math.abs(x - this.point.x_coor) > 1 || Math.abs(y - this.point.y_coor) > 1)\r\n            return false;\r\n        // We will add more logic for checking valid move later\r\n        // Current check is only for a valid position and no same side piece\r\n        return !_super.prototype.checkSameColorPieceInPoint.call(this, dest);\r\n    };\r\n    return General;\r\n}(ChessPiece_1.Piece));\r\nvar RedGeneral = /** @class */ (function (_super) {\r\n    __extends(RedGeneral, _super);\r\n    function RedGeneral(board, point) {\r\n        var _this = _super.call(this, point, board, ChessPiece_1.PlayerColor.RED) || this;\r\n        _this.elem.src = '../img/pieces/red-shuai.png';\r\n        _this.board = board;\r\n        _this.point.setPiece(_this); //sets the piece to the point.\r\n        return _this;\r\n    }\r\n    RedGeneral.prototype.movablePoints = function () {\r\n        var moveable_points = [];\r\n        moveable_points = moveable_points.concat(this.checkPeriphery());\r\n        return moveable_points;\r\n    };\r\n    //returns the grids that General can go in a column\r\n    RedGeneral.prototype.checkPeriphery = function () {\r\n        var Y_coor = this.point.y_coor;\r\n        var X_coor = this.point.x_coor;\r\n        var front = this.board.getPointFromCoordinates(X_coor, Y_coor - 1);\r\n        var back = this.board.getPointFromCoordinates(X_coor, Y_coor + 1); //out of bound err\r\n        var left = this.board.getPointFromCoordinates(X_coor - 1, Y_coor);\r\n        var right = this.board.getPointFromCoordinates(X_coor + 1, Y_coor);\r\n        var movable_points_in_this_column = [];\r\n        //  __ __   \r\n        // |__|__|\r\n        // |__|__|\r\n        // \r\n        console.log(\"+++++++++++++ debug +++++++++++++++++++++++\");\r\n        // 面前的格子\r\n        if (front && this.isValidGeneralPosition(front)) {\r\n            console.log('front.getPiece()');\r\n            console.log(front.getPiece());\r\n            movable_points_in_this_column.push(front);\r\n        }\r\n        if (back && this.isValidGeneralPosition(back)) {\r\n            console.log('back.getPiece()');\r\n            console.log(back.getPiece());\r\n            movable_points_in_this_column.push(back);\r\n        }\r\n        if (left && this.isValidGeneralPosition(left)) {\r\n            console.log('back.getPiece()');\r\n            console.log(left.getPiece());\r\n            movable_points_in_this_column.push(left);\r\n        }\r\n        if (right && this.isValidGeneralPosition(right)) {\r\n            console.log('back.getPiece()');\r\n            console.log(right.getPiece());\r\n            movable_points_in_this_column.push(right);\r\n        }\r\n        return movable_points_in_this_column;\r\n    };\r\n    RedGeneral.prototype.isValidGeneralPosition = function (targetPoint) {\r\n        console.log('isValidGeneralPosition +++++++++++');\r\n        console.log(targetPoint);\r\n        console.log(targetPoint.getX());\r\n        console.log(targetPoint.getY());\r\n        // 外层if表示田字的横坐标范围\r\n        if (targetPoint.getX() - 1 >= 3 && targetPoint.getX() - 1 <= 5) {\r\n            // 内层是纵坐标范围\r\n            if (targetPoint.getY() - 1 >= 7 && targetPoint.getY() - 1 <= 9) {\r\n                return true;\r\n            }\r\n        }\r\n        // 以上条件不满足，则return false.\r\n        return false;\r\n    };\r\n    return RedGeneral;\r\n}(General));\r\nexports.RedGeneral = RedGeneral;\r\nvar BlackGeneral = /** @class */ (function (_super) {\r\n    __extends(BlackGeneral, _super);\r\n    function BlackGeneral(board, point) {\r\n        var _this = _super.call(this, point, board, ChessPiece_1.PlayerColor.BLACK) || this;\r\n        _this.elem.src = '../img/pieces/black-jiang.png';\r\n        _this.board = board;\r\n        _this.point.setPiece(_this); //sets the piece to the point.\r\n        return _this;\r\n    }\r\n    BlackGeneral.prototype.movablePoints = function () {\r\n        var moveable_points = [];\r\n        moveable_points = moveable_points.concat(this.checkPeriphery());\r\n        return moveable_points;\r\n    };\r\n    BlackGeneral.prototype.checkPeriphery = function () {\r\n        var X_coor = this.point.getX();\r\n        var Y_coor = this.point.getY();\r\n        var front = this.board.getPointFromCoordinates(X_coor, Y_coor - 1);\r\n        var back = new frontend_utils_1.Point(-1, -1);\r\n        try {\r\n            back = this.board.getPointFromCoordinates(X_coor, Y_coor + 1); //out of bound err\r\n        }\r\n        catch (err) {\r\n            console.error(err);\r\n        }\r\n        var left = this.board.getPointFromCoordinates(X_coor - 1, Y_coor);\r\n        var right = this.board.getPointFromCoordinates(X_coor + 1, Y_coor);\r\n        var movable_points_in_this_column = [];\r\n        //  __ __   \r\n        // |__|__|\r\n        // |__|__|\r\n        // \r\n        console.log(\"++++++++++++++++++++++ debug +++++++++++++++++++++++\");\r\n        // 面前的格子\r\n        if (front && this.isValidGeneralPosition(front)) {\r\n            console.log('front.getPiece()');\r\n            console.log(front.getPiece());\r\n            movable_points_in_this_column.push(front);\r\n        }\r\n        if (back && this.isValidGeneralPosition(back)) {\r\n            console.log('back.getPiece()');\r\n            console.log(back.getPiece());\r\n            movable_points_in_this_column.push(back);\r\n        }\r\n        if (left && this.isValidGeneralPosition(left)) {\r\n            console.log('back.getPiece()');\r\n            console.log(left.getPiece());\r\n            movable_points_in_this_column.push(left);\r\n        }\r\n        if (right && this.isValidGeneralPosition(right)) {\r\n            console.log('back.getPiece()');\r\n            console.log(right.getPiece());\r\n            movable_points_in_this_column.push(right);\r\n        }\r\n        return movable_points_in_this_column;\r\n    };\r\n    BlackGeneral.prototype.isValidGeneralPosition = function (targetPoint) {\r\n        console.log('isValidGeneralPosition +++++++++++');\r\n        console.log(targetPoint);\r\n        console.log(targetPoint.getX());\r\n        console.log(targetPoint.getY());\r\n        // 外层if表示田字的横坐标范围\r\n        if (targetPoint.getX() >= 4 && targetPoint.getX() - 1 <= 6) {\r\n            // 内层是纵坐标范围\r\n            if (targetPoint.getY() >= 1 && targetPoint.getY() <= 3) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return BlackGeneral;\r\n}(General));\r\nexports.BlackGeneral = BlackGeneral;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PlayerColor = exports.SIDE_LENGTH_vw = exports.SIDE_LENGTH = exports.Point = exports.fitSize = exports.getChessBoardSize = exports.getZoomedRatio = void 0;\r\nvar Util_1 = __importDefault(require(\"../../src/Util\"));\r\n// // used in class Piece\r\n// enum PieceColor {\r\n//     'black',\r\n//     'red'\r\n// }\r\n// used in class Game, \r\nvar PlayerColor;\r\n(function (PlayerColor) {\r\n    PlayerColor[PlayerColor[\"BLACK\"] = 0] = \"BLACK\";\r\n    PlayerColor[PlayerColor[\"RED\"] = 1] = \"RED\";\r\n    PlayerColor[PlayerColor[\"NEUTRAL\"] = 2] = \"NEUTRAL\";\r\n    PlayerColor[PlayerColor[\"SPECTATOR\"] = 3] = \"SPECTATOR\"; // Cannot control either side. 双方都不可以控制\r\n})(PlayerColor || (PlayerColor = {}));\r\nexports.PlayerColor = PlayerColor;\r\n// 得到当前的放大倍率\r\nfunction getZoomedRatio() {\r\n    var ratio = 0;\r\n    if (window.devicePixelRatio !== undefined) {\r\n        ratio = window.devicePixelRatio;\r\n    }\r\n    else if (window.outerWidth !== undefined && window.innerWidth !== undefined) {\r\n        ratio = window.outerWidth / window.innerWidth;\r\n    }\r\n    if (ratio) {\r\n        ratio = Math.round(ratio * 100);\r\n    }\r\n    return ratio;\r\n}\r\nexports.getZoomedRatio = getZoomedRatio;\r\n// 得到棋盘的当前大小\r\nfunction getChessBoardSize() {\r\n    Util_1.default.trace('chessboard size:');\r\n    var chessboard = $('#id_chessboard');\r\n    Util_1.default.trace('chessboad width');\r\n    Util_1.default.trace(chessboard.css('width'));\r\n    Util_1.default.trace('chessboad height');\r\n    Util_1.default.trace(chessboard.css('height'));\r\n}\r\nexports.getChessBoardSize = getChessBoardSize;\r\n// The vertical lines are known as files (Chinese: 路; pinyin: lù; \"road\")\r\n// the horizontal lines are known as ranks 线 xiàn; \"line\"\r\nvar Point = /** @class */ (function () {\r\n    function Point(col, row) {\r\n        // this.board = board;\r\n        this.x_coor = col; //col -> verticle\r\n        this.y_coor = row; //row -> horizontal\r\n        // A dummy element for initialization first and then update in method\r\n        this.elem = document.createElement('div');\r\n        this.updateElement(col, row);\r\n    }\r\n    /** when piece moves in\r\n        it binds the piece with the grid.\r\n        notice when the piece is moving out from a grid\r\n        the piece should be set to null.\r\n        @param piece: a nullable Piece object\r\n    */\r\n    Point.prototype.setPiece = function (piece) {\r\n        this.piece = piece;\r\n    };\r\n    // 判断点上是否有棋子\r\n    Point.prototype.hasPiece = function () {\r\n        return this.piece ? true : false;\r\n    };\r\n    //gets the piece in the current grid\r\n    Point.prototype.getPiece = function () {\r\n        return this.piece;\r\n    };\r\n    Point.prototype.getX = function () {\r\n        return this.x_coor;\r\n    };\r\n    Point.prototype.getY = function () {\r\n        return this.y_coor;\r\n    };\r\n    // 更新渲染\r\n    Point.prototype.updateElement = function (newCol, newRow) {\r\n        var grid_div = this.elem;\r\n        var oldCol = this.x_coor;\r\n        var oldRow = this.y_coor;\r\n        /* code previously found in board initialization, with div_2d_array\r\n           now divs are bound to specific points.\r\n        */\r\n        grid_div.id = \"grid_div_\" + oldCol + \"_\" + oldRow;\r\n        $(\"#\" + grid_div.id).remove(); //must remove the original one, in order to make it unique.\r\n        grid_div.className = 'className_grid_div';\r\n        $(grid_div).css('grid-column', newCol);\r\n        $(grid_div).css('grid-row', newRow);\r\n        $('#board').append(grid_div);\r\n        // this.board.intersections[newCol-1][newRow-1] = this; //replace the original point with the newly updated point.\r\n    };\r\n    return Point;\r\n}());\r\nexports.Point = Point;\r\n//how many px when it's zoomed 100%\r\nvar SIDE_LENGTH = 75;\r\nexports.SIDE_LENGTH = SIDE_LENGTH;\r\nvar SIDE_LENGTH_vw = 70 / (getZoomedRatio() * 0.01);\r\nexports.SIDE_LENGTH_vw = SIDE_LENGTH_vw;\r\n/**\r\n * 固定大小用的function\r\n *\r\n*/\r\nfunction fitSize() {\r\n    var board = $('#board');\r\n    $.when(board)\r\n        //fiting size for the board\r\n        .then(function () {\r\n        console.log('background-size');\r\n        console.log(board.css('background-size'));\r\n        board.css('width', board.css('height'));\r\n        board.css('height', board.css('width'));\r\n        // board.css('row-gap','0px')\r\n        board.css('column-gap', '0px');\r\n        console.log(board.css('row-gap'));\r\n    })\r\n        //fiting sizes for the grids\r\n        .then(function () {\r\n        $('.className_grid_div').css('width', parseInt(board.css('width')) / 11);\r\n        $('.className_grid_div').css('height', parseInt(board.css('height')) / 10);\r\n        $('.className_grid_div').css('z-index', 10);\r\n        $('.className_grid_div').css('margin', 0);\r\n    })\r\n        //fiting sizes for the pieces\r\n        .then(function () {\r\n        $('.pieces').css('width', parseInt($('.className_grid_div').css('width')));\r\n        $('.pieces').css('height', parseInt($('.className_grid_div').css('width')));\r\n    })\r\n        .then(function () {\r\n        board.css('max-width', board.css('height'));\r\n    });\r\n}\r\nexports.fitSize = fitSize;\r\n","\"use strict\";\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Log = /** @class */ (function () {\r\n    function Log() {\r\n    }\r\n    Log.trace = function () {\r\n        var msg = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            msg[_i] = arguments[_i];\r\n        }\r\n        console.log.apply(console, __spreadArrays([\"<T> \" + new Date().toLocaleString() + \":\"], msg));\r\n    };\r\n    Log.info = function () {\r\n        var msg = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            msg[_i] = arguments[_i];\r\n        }\r\n        console.info.apply(console, __spreadArrays([\"<I> \" + new Date().toLocaleString() + \":\"], msg));\r\n    };\r\n    Log.warn = function () {\r\n        var msg = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            msg[_i] = arguments[_i];\r\n        }\r\n        console.warn.apply(console, __spreadArrays([\"<W> \" + new Date().toLocaleString() + \":\"], msg));\r\n    };\r\n    Log.error = function () {\r\n        var msg = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            msg[_i] = arguments[_i];\r\n        }\r\n        console.error.apply(console, __spreadArrays([\"<E> \" + new Date().toLocaleString() + \":\"], msg));\r\n    };\r\n    Log.test = function () {\r\n        var msg = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            msg[_i] = arguments[_i];\r\n        }\r\n        console.log.apply(console, __spreadArrays([\"<X> \" + new Date().toLocaleString() + \":\"], msg));\r\n    };\r\n    return Log;\r\n}());\r\nexports.default = Log;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module\n__webpack_require__(20);\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}